import{q as w,H as Cn,J as Yt,r as u,K as bn,M as Sn,_ as X,j as n,t as K,v as se,n as ie,O as St,o as de,Q as Qt,s as A,w as q,S as Xt,p as oe,T as z,U as wt,V as wn,W as Re,X as yt,c as Z,Y as yn,Z as qt,$ as jn,a0 as at,a1 as kt,a2 as Ge,a3 as Qe,a4 as Rn,a5 as Pn,u as J,z as Xe,a6 as it,a7 as Kt,a8 as Zt,g as xt,a9 as Jt,aa as we,ab as re,ac as Se,ad as nt,m as Fe,b as ye,ae as Tn,af as kn,ag as En,ah as st,ai as Ve,aj as Mn,ak as Dn,al as $n,am as Et,an as lt,ao as In,ap as An,aq as On,ar as Nn,as as Ln,at as _n,au as zn,av as Fn,aw as ct}from"./index.2cf54ca8.js";import{s as Bn,c as Mt,d as Wn,u as Un,e as Gn,i as ke,g as He,D as Vn,b as Q,f as en,L as Hn,A as Yn,h as Dt,a as Qn,B,T as Be,j as vt}from"./mui.Toolbar.c29f3336.js";import{l as Ne,g as Xn,L as qn,a as Kn}from"./mui.ListItemText.8668fadf.js";import{i as Zn,u as Jn,f as es}from"./mui.useFormControl.1ba1cccc.js";import{T as Me,F as tn,a as qe}from"./mui.TextField.b6a2e759.js";import{S as nn,F as ts}from"./portal.Authenticated.aec66e93.js";import{D as ns,g as ss,a as $e,b as Pe,c as Ie,F as os}from"./components.TimerIcon.f2cea1d7.js";import{t as Ct,d as rs,S as Le,s as as,g as is,c as ls,O as cs,u as ds}from"./portal.OneTimePasswordMethod.f553c867.js";import{S as sn,a as bt,F as Ce}from"./mui.FormControlLabel.9192796d.js";import{f as us,I as hs}from"./portal.MethodContainer.1b18e563.js";import{c as fs}from"./index.8057fcfb.js";import{d as gs,u as ps,t as ms,a as xs,L as vs,W as je,s as Cs,A as dt,f as bs,b as Ss,g as ws}from"./hooks.Timer.6169e1b2.js";import{I as ys}from"./portal.IconWithContext.303a88e9.js";import"./hooks.Workflow.6e7bd503.js";const js=(e,t)=>e.filter(o=>t.includes(o)),Ae=(e,t,o)=>{const r=e.keys[0];Array.isArray(t)?t.forEach((d,h)=>{o((f,g)=>{h<=e.keys.length-1&&(h===0?Object.assign(f,g):f[e.up(e.keys[h])]=g)},d)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:js(e.keys,Object.keys(t))).forEach(h=>{if(e.keys.indexOf(h)!==-1){const f=t[h];f!==void 0&&o((g,s)=>{r===h?Object.assign(g,s):g[e.up(h)]=s},f)}}):(typeof t=="number"||typeof t=="string")&&o((d,h)=>{Object.assign(d,h)},t)};function ge(e){return e?`Level${e}`:""}function We(e){return e.unstable_level>0&&e.container}function on(e){return function(o){return`var(--Grid-${o}Spacing${ge(e.unstable_level)})`}}function jt(e){return function(o){return e.unstable_level===0?`var(--Grid-${o}Spacing)`:`var(--Grid-${o}Spacing${ge(e.unstable_level-1)})`}}function Rt(e){return e.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${ge(e.unstable_level-1)})`}const Rs=({theme:e,ownerState:t})=>{const o=on(t),r={};return Ae(e.breakpoints,t.gridSize,(d,h)=>{let f={};h===!0&&(f={flexBasis:0,flexGrow:1,maxWidth:"100%"}),h==="auto"&&(f={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof h=="number"&&(f={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${h} / ${Rt(t)}${We(t)?` + ${o("column")}`:""})`}),d(r,f)}),r},Ps=({theme:e,ownerState:t})=>{const o={};return Ae(e.breakpoints,t.gridOffset,(r,d)=>{let h={};d==="auto"&&(h={marginLeft:"auto"}),typeof d=="number"&&(h={marginLeft:d===0?"0px":`calc(100% * ${d} / ${Rt(t)})`}),r(o,h)}),o},Ts=({theme:e,ownerState:t})=>{if(!t.container)return{};const o=We(t)?{[`--Grid-columns${ge(t.unstable_level)}`]:Rt(t)}:{"--Grid-columns":12};return Ae(e.breakpoints,t.columns,(r,d)=>{r(o,{[`--Grid-columns${ge(t.unstable_level)}`]:d})}),o},ks=({theme:e,ownerState:t})=>{if(!t.container)return{};const o=jt(t),r=We(t)?{[`--Grid-rowSpacing${ge(t.unstable_level)}`]:o("row")}:{};return Ae(e.breakpoints,t.rowSpacing,(d,h)=>{var f;d(r,{[`--Grid-rowSpacing${ge(t.unstable_level)}`]:typeof h=="string"?h:(f=e.spacing)==null?void 0:f.call(e,h)})}),r},Es=({theme:e,ownerState:t})=>{if(!t.container)return{};const o=jt(t),r=We(t)?{[`--Grid-columnSpacing${ge(t.unstable_level)}`]:o("column")}:{};return Ae(e.breakpoints,t.columnSpacing,(d,h)=>{var f;d(r,{[`--Grid-columnSpacing${ge(t.unstable_level)}`]:typeof h=="string"?h:(f=e.spacing)==null?void 0:f.call(e,h)})}),r},Ms=({theme:e,ownerState:t})=>{if(!t.container)return{};const o={};return Ae(e.breakpoints,t.direction,(r,d)=>{r(o,{flexDirection:d})}),o},Ds=({ownerState:e})=>{const t=on(e),o=jt(e);return w({minWidth:0,boxSizing:"border-box"},e.container&&w({display:"flex",flexWrap:"wrap"},e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},{margin:`calc(${t("row")} / -2) calc(${t("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${t("row")} * -1) 0px 0px calc(${t("column")} * -1)`}),(!e.container||We(e))&&w({padding:`calc(${o("row")} / 2) calc(${o("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${o("row")} 0px 0px ${o("column")}`}))},$s=e=>{const t=[];return Object.entries(e).forEach(([o,r])=>{r!==!1&&r!==void 0&&t.push(`grid-${o}-${String(r)}`)}),t},Is=(e,t="xs")=>{function o(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(o(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const r=[];return Object.entries(e).forEach(([d,h])=>{o(h)&&r.push(`spacing-${d}-${String(h)}`)}),r}return[]},As=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,o])=>`direction-${t}-${o}`):[`direction-xs-${String(e)}`],Os=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],Ns=Cn(),Ls=Bn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function _s(e){return Yt({props:e,name:"MuiGrid",defaultTheme:Ns})}function zs(e={}){const{createStyledComponent:t=Ls,useThemeProps:o=_s,componentName:r="MuiGrid"}=e,d=u.createContext(void 0),h=(s,a)=>{const{container:i,direction:c,spacing:l,wrap:m,gridSize:p}=s,v={root:["root",i&&"container",m!=="wrap"&&`wrap-xs-${String(m)}`,...As(c),...$s(p),...i?Is(l,a.breakpoints.keys[0]):[]]};return se(v,x=>ie(r,x),{})},f=t(Ts,Es,ks,Rs,Ms,Ds,Ps),g=u.forwardRef(function(a,i){var c,l,m,p,v,x,S,j;const C=bn(),R=o(a),E=Sn(R),M=u.useContext(d),{className:I,children:k,columns:$=12,container:H=!1,component:b="div",direction:W="row",wrap:ue="wrap",spacing:O=0,rowSpacing:pe=O,columnSpacing:U=O,disableEqualOverflow:me,unstable_level:te=0}=E,xe=X(E,Os);let le=me;te&&me!==void 0&&(le=a.disableEqualOverflow);const ce={},ae={},P={};Object.entries(xe).forEach(([N,G])=>{C.breakpoints.values[N]!==void 0?ce[N]=G:C.breakpoints.values[N.replace("Offset","")]!==void 0?ae[N.replace("Offset","")]=G:P[N]=G});const Y=(c=a.columns)!=null?c:te?void 0:$,_=(l=a.spacing)!=null?l:te?void 0:O,F=(m=(p=a.rowSpacing)!=null?p:a.spacing)!=null?m:te?void 0:pe,V=(v=(x=a.columnSpacing)!=null?x:a.spacing)!=null?v:te?void 0:U,T=w({},E,{level:te,columns:Y,container:H,direction:W,wrap:ue,spacing:_,rowSpacing:F,columnSpacing:V,gridSize:ce,gridOffset:ae,disableEqualOverflow:(S=(j=le)!=null?j:M)!=null?S:!1,parentDisableEqualOverflow:M}),D=h(T,C);let L=n.jsx(f,w({ref:i,as:b,ownerState:T,className:K(D.root,I)},P,{children:u.Children.map(k,N=>{if(u.isValidElement(N)&&Zn(N,["Grid"])){var G;return u.cloneElement(N,{unstable_level:(G=N.props.unstable_level)!=null?G:te+1})}return N})}));return le!==void 0&&le!==(M??!1)&&(L=n.jsx(d.Provider,{value:le,children:L})),L});return g.muiName="Grid",g}function Fs(e){const{children:t,defer:o=!1,fallback:r=null}=e,[d,h]=u.useState(!1);return St(()=>{o||h(!0)},[o]),u.useEffect(()=>{o&&h(!0)},[o]),n.jsx(u.Fragment,{children:d?t:r})}function Bs(e){return ie("MuiCircularProgress",e)}de("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ws=["className","color","disableShrink","size","style","thickness","value","variant"];let ot=e=>e,$t,It,At,Ot;const ve=44,Us=Qt($t||($t=ot`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Gs=Qt(It||(It=ot`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Vs=e=>{const{classes:t,variant:o,color:r,disableShrink:d}=e,h={root:["root",o,`color${q(r)}`],svg:["svg"],circle:["circle",`circle${q(o)}`,d&&"circleDisableShrink"]};return se(h,Bs,t)},Hs=A("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`color${q(o.color)}`]]}})(({ownerState:e,theme:t})=>w({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Xt(At||(At=ot`
      animation: ${0} 1.4s linear infinite;
    `),Us)),Ys=A("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Qs=A("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.circle,t[`circle${q(o.variant)}`],o.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>w({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Xt(Ot||(Ot=ot`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Gs)),Xs=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiCircularProgress"}),{className:d,color:h="primary",disableShrink:f=!1,size:g=40,style:s,thickness:a=3.6,value:i=0,variant:c="indeterminate"}=r,l=X(r,Ws),m=w({},r,{color:h,disableShrink:f,size:g,thickness:a,value:i,variant:c}),p=Vs(m),v={},x={},S={};if(c==="determinate"){const j=2*Math.PI*((ve-a)/2);v.strokeDasharray=j.toFixed(3),S["aria-valuenow"]=Math.round(i),v.strokeDashoffset=`${((100-i)/100*j).toFixed(3)}px`,x.transform="rotate(-90deg)"}return n.jsx(Hs,w({className:K(p.root,d),style:w({width:g,height:g},x,s),ownerState:m,ref:o,role:"progressbar"},S,l,{children:n.jsx(Ys,{className:p.svg,ownerState:m,viewBox:`${ve/2} ${ve/2} ${ve} ${ve}`,children:n.jsx(Qs,{className:p.circle,style:v,ownerState:m,cx:ve,cy:ve,r:(ve-a)/2,fill:"none",strokeWidth:a})})}))}),Ze=Xs;function qs(e){return ie("MuiDialogContentText",e)}de("MuiDialogContentText",["root"]);const Ks=["children","className"],Zs=e=>{const{classes:t}=e,r=se({root:["root"]},qs,t);return w({},t,r)},Js=A(z,{shouldForwardProp:e=>wt(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),eo=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiDialogContentText"}),{className:d}=r,h=X(r,Ks),f=Zs(h);return n.jsx(Js,w({component:"p",variant:"body1",color:"text.secondary",ref:o,ownerState:h,className:K(f.root,d)},r,{classes:f}))}),De=eo,to=["className","id"],no=e=>{const{classes:t}=e;return se({root:["root"]},ss,t)},so=A(z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),oo=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiDialogTitle"}),{className:d,id:h}=r,f=X(r,to),g=r,s=no(g),{titleId:a=h}=u.useContext(ns);return n.jsx(so,w({component:"h2",className:K(s.root,d),ownerState:g,ref:o,variant:"h6",id:h??a},f))}),Oe=oo;function ro(e){return ie("MuiFormGroup",e)}de("MuiFormGroup",["root","row","error"]);const ao=["className","row"],io=e=>{const{classes:t,row:o,error:r}=e;return se({root:["root",o&&"row",r&&"error"]},ro,t)},lo=A("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.row&&t.row]}})(({ownerState:e})=>w({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),co=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiFormGroup"}),{className:d,row:h=!1}=r,f=X(r,ao),g=Jn(),s=es({props:r,muiFormControl:g,states:["error"]}),a=w({},r,{row:h,error:s.error}),i=io(a);return n.jsx(lo,w({className:K(i.root,d),ownerState:a,ref:o},f))}),uo=co,ho=zs({createStyledComponent:A("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>oe({props:e,name:"MuiGrid2"})}),y=ho,fo=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],go=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.alignItems==="flex-start"&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters]},po=e=>{const{alignItems:t,classes:o,dense:r,disabled:d,disableGutters:h,divider:f,selected:g}=e,a=se({root:["root",r&&"dense",!h&&"gutters",f&&"divider",d&&"disabled",t==="flex-start"&&"alignItemsFlexStart",g&&"selected"]},Xn,o);return w({},o,a)},mo=A(wn,{shouldForwardProp:e=>wt(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:go})(({theme:e,ownerState:t})=>w({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ne.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Re(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ne.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Re(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ne.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Re(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Re(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Ne.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ne.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),xo=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiListItemButton"}),{alignItems:d="center",autoFocus:h=!1,component:f="div",children:g,dense:s=!1,disableGutters:a=!1,divider:i=!1,focusVisibleClassName:c,selected:l=!1,className:m}=r,p=X(r,fo),v=u.useContext(Mt),x=u.useMemo(()=>({dense:s||v.dense||!1,alignItems:d,disableGutters:a}),[d,v.dense,s,a]),S=u.useRef(null);St(()=>{h&&S.current&&S.current.focus()},[h]);const j=w({},r,{alignItems:d,dense:x.dense,disableGutters:a,divider:i,selected:l}),C=po(j),R=yt(S,o);return n.jsx(Mt.Provider,{value:x,children:n.jsx(mo,w({ref:R,href:p.href||p.to,component:(p.href||p.to)&&f==="div"?"button":f,focusVisibleClassName:K(C.focusVisible,c),ownerState:j,className:K(C.root,m)},p,{classes:C,children:g}))})}),vo=xo,Co=Z(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),bo=Z(n.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),So=A("span")({position:"relative",display:"flex"}),wo=A(Co)({transform:"scale(1)"}),yo=A(bo)(({theme:e,ownerState:t})=>w({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function rn(e){const{checked:t=!1,classes:o={},fontSize:r}=e,d=w({},e,{checked:t});return n.jsxs(So,{className:o.root,ownerState:d,children:[n.jsx(wo,{fontSize:r,className:o.background,ownerState:d}),n.jsx(yo,{fontSize:r,className:o.dot,ownerState:d})]})}const jo=u.createContext(void 0),an=jo;function Ro(){return u.useContext(an)}function Po(e){return ie("MuiRadio",e)}const To=de("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Nt=To,ko=["checked","checkedIcon","color","icon","name","onChange","size","className"],Eo=e=>{const{classes:t,color:o,size:r}=e,d={root:["root",`color${q(o)}`,r!=="medium"&&`size${q(r)}`]};return w({},t,se(d,Po,t))},Mo=A(sn,{shouldForwardProp:e=>wt(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${q(o.color)}`]]}})(({theme:e,ownerState:t})=>w({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Re(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Nt.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${Nt.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function Do(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const Lt=n.jsx(rn,{checked:!0}),_t=n.jsx(rn,{}),$o=u.forwardRef(function(t,o){var r,d;const h=oe({props:t,name:"MuiRadio"}),{checked:f,checkedIcon:g=Lt,color:s="primary",icon:a=_t,name:i,onChange:c,size:l="medium",className:m}=h,p=X(h,ko),v=w({},h,{color:s,size:l}),x=Eo(v),S=Ro();let j=f;const C=Wn(c,S&&S.onChange);let R=i;return S&&(typeof j>"u"&&(j=Do(S.value,h.value)),typeof R>"u"&&(R=S.name)),n.jsx(Mo,w({type:"radio",icon:u.cloneElement(a,{fontSize:(r=_t.props.fontSize)!=null?r:l}),checkedIcon:u.cloneElement(g,{fontSize:(d=Lt.props.fontSize)!=null?d:l}),ownerState:v,classes:x,name:R,checked:j,onChange:C,ref:o,className:K(x.root,m)},p))}),Ee=$o,Io=["actions","children","defaultValue","name","onChange","value"],Ao=u.forwardRef(function(t,o){const{actions:r,children:d,defaultValue:h,name:f,onChange:g,value:s}=t,a=X(t,Io),i=u.useRef(null),[c,l]=Un({controlled:s,default:h,name:"RadioGroup"});u.useImperativeHandle(r,()=>({focus:()=>{let x=i.current.querySelector("input:not(:disabled):checked");x||(x=i.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const m=yt(o,i),p=Gn(f),v=u.useMemo(()=>({name:p,onChange(x){l(x.target.value),g&&g(x,x.target.value)},value:c}),[p,g,l,c]);return n.jsx(an.Provider,{value:v,children:n.jsx(uo,w({role:"radiogroup",ref:m},a,{children:d}))})}),Ke=Ao,Oo=u.createContext({}),rt=Oo,No=u.createContext({}),Pt=No;function Lo(e){return ie("MuiStep",e)}de("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const _o=["active","children","className","component","completed","disabled","expanded","index","last"],zo=e=>{const{classes:t,orientation:o,alternativeLabel:r,completed:d}=e;return se({root:["root",o,r&&"alternativeLabel",d&&"completed"]},Lo,t)},Fo=A("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.alternativeLabel&&t.alternativeLabel,o.completed&&t.completed]}})(({ownerState:e})=>w({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),Bo=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiStep"}),{active:d,children:h,className:f,component:g="div",completed:s,disabled:a,expanded:i=!1,index:c,last:l}=r,m=X(r,_o),{activeStep:p,connector:v,alternativeLabel:x,orientation:S,nonLinear:j}=u.useContext(rt);let[C=!1,R=!1,E=!1]=[d,s,a];p===c?C=d!==void 0?d:!0:!j&&p>c?R=s!==void 0?s:!0:!j&&p<c&&(E=a!==void 0?a:!0);const M=u.useMemo(()=>({index:c,last:l,expanded:i,icon:c+1,active:C,completed:R,disabled:E}),[c,l,i,C,R,E]),I=w({},r,{active:C,orientation:S,alternativeLabel:x,completed:R,disabled:E,expanded:i,component:g}),k=zo(I),$=n.jsxs(Fo,w({as:g,className:K(k.root,f),ref:o,ownerState:I},m,{children:[v&&x&&c!==0?v:null,h]}));return n.jsx(Pt.Provider,{value:M,children:v&&!x&&c!==0?n.jsxs(u.Fragment,{children:[v,$]}):$})}),ln=Bo,Wo=Z(n.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Uo=Z(n.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Go(e){return ie("MuiStepIcon",e)}const Vo=de("MuiStepIcon",["root","active","completed","error","text"]),ut=Vo;var zt;const Ho=["active","className","completed","error","icon"],Yo=e=>{const{classes:t,active:o,completed:r,error:d}=e;return se({root:["root",o&&"active",r&&"completed",d&&"error"],text:["text"]},Go,t)},ht=A(yn,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${ut.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${ut.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${ut.error}`]:{color:(e.vars||e).palette.error.main}})),Qo=A("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),Xo=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiStepIcon"}),{active:d=!1,className:h,completed:f=!1,error:g=!1,icon:s}=r,a=X(r,Ho),i=w({},r,{active:d,completed:f,error:g}),c=Yo(i);if(typeof s=="number"||typeof s=="string"){const l=K(h,c.root);return g?n.jsx(ht,w({as:Uo,className:l,ref:o,ownerState:i},a)):f?n.jsx(ht,w({as:Wo,className:l,ref:o,ownerState:i},a)):n.jsxs(ht,w({className:l,ref:o,ownerState:i},a,{children:[zt||(zt=n.jsx("circle",{cx:"12",cy:"12",r:"12"})),n.jsx(Qo,{className:c.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:i,children:s})]}))}return s}),qo=Xo;function Ko(e){return ie("MuiStepLabel",e)}const Zo=de("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),be=Zo,Jo=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],er=e=>{const{classes:t,orientation:o,active:r,completed:d,error:h,disabled:f,alternativeLabel:g}=e;return se({root:["root",o,h&&"error",f&&"disabled",g&&"alternativeLabel"],label:["label",r&&"active",d&&"completed",h&&"error",f&&"disabled",g&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",d&&"completed",h&&"error",f&&"disabled",g&&"alternativeLabel"],labelContainer:["labelContainer",g&&"alternativeLabel"]},Ko,t)},tr=A("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation]]}})(({ownerState:e})=>w({display:"flex",alignItems:"center",[`&.${be.alternativeLabel}`]:{flexDirection:"column"},[`&.${be.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),nr=A("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>w({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${be.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${be.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${be.alternativeLabel}`]:{marginTop:16},[`&.${be.error}`]:{color:(e.vars||e).palette.error.main}})),sr=A("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${be.alternativeLabel}`]:{paddingRight:0}})),or=A("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${be.alternativeLabel}`]:{textAlign:"center"}})),cn=u.forwardRef(function(t,o){var r;const d=oe({props:t,name:"MuiStepLabel"}),{children:h,className:f,componentsProps:g={},error:s=!1,icon:a,optional:i,slotProps:c={},StepIconComponent:l,StepIconProps:m}=d,p=X(d,Jo),{alternativeLabel:v,orientation:x}=u.useContext(rt),{active:S,disabled:j,completed:C,icon:R}=u.useContext(Pt),E=a||R;let M=l;E&&!M&&(M=qo);const I=w({},d,{active:S,alternativeLabel:v,completed:C,disabled:j,error:s,orientation:x}),k=er(I),$=(r=c.label)!=null?r:g.label;return n.jsxs(tr,w({className:K(k.root,f),ref:o,ownerState:I},p,{children:[E||M?n.jsx(sr,{className:k.iconContainer,ownerState:I,children:n.jsx(M,w({completed:C,active:S,error:s,icon:E},m))}):null,n.jsxs(or,{className:k.labelContainer,ownerState:I,children:[h?n.jsx(nr,w({ownerState:I},$,{className:K(k.label,$==null?void 0:$.className),children:h})):null,i]})]}))});cn.muiName="StepLabel";const dn=cn;function rr(e){return ie("MuiStepConnector",e)}de("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const ar=["className"],ir=e=>{const{classes:t,orientation:o,alternativeLabel:r,active:d,completed:h,disabled:f}=e,g={root:["root",o,r&&"alternativeLabel",d&&"active",h&&"completed",f&&"disabled"],line:["line",`line${q(o)}`]};return se(g,rr,t)},lr=A("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.alternativeLabel&&t.alternativeLabel,o.completed&&t.completed]}})(({ownerState:e})=>w({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),cr=A("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.line,t[`line${q(o.orientation)}`]]}})(({ownerState:e,theme:t})=>{const o=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return w({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:o},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),dr=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiStepConnector"}),{className:d}=r,h=X(r,ar),{alternativeLabel:f,orientation:g="horizontal"}=u.useContext(rt),{active:s,disabled:a,completed:i}=u.useContext(Pt),c=w({},r,{alternativeLabel:f,orientation:g,active:s,completed:i,disabled:a}),l=ir(c);return n.jsx(lr,w({className:K(l.root,d),ref:o,ownerState:c},h,{children:n.jsx(cr,{className:l.line,ownerState:c})}))}),ur=dr;function hr(e){return ie("MuiStepper",e)}de("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const fr=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],gr=e=>{const{orientation:t,alternativeLabel:o,classes:r}=e;return se({root:["root",t,o&&"alternativeLabel"]},hr,r)},pr=A("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.alternativeLabel&&t.alternativeLabel]}})(({ownerState:e})=>w({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),mr=n.jsx(ur,{}),xr=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiStepper"}),{activeStep:d=0,alternativeLabel:h=!1,children:f,className:g,component:s="div",connector:a=mr,nonLinear:i=!1,orientation:c="horizontal"}=r,l=X(r,fr),m=w({},r,{alternativeLabel:h,orientation:c,component:s}),p=gr(m),v=u.Children.toArray(f).filter(Boolean),x=v.map((j,C)=>u.cloneElement(j,w({index:C,last:C+1===v.length},j.props))),S=u.useMemo(()=>({activeStep:d,alternativeLabel:h,connector:a,nonLinear:i,orientation:c}),[d,h,a,i,c]);return n.jsx(rt.Provider,{value:S,children:n.jsx(pr,w({as:s,ownerState:m,className:K(p.root,g),ref:o},l,{children:x}))})}),un=xr,vr=["anchor","classes","className","width","style"],Cr=A("div")(({theme:e,ownerState:t})=>w({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},t.anchor==="left"&&{right:"auto"},t.anchor==="right"&&{left:"auto",right:0},t.anchor==="top"&&{bottom:"auto",right:0},t.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),br=u.forwardRef(function(t,o){const{anchor:r,classes:d={},className:h,width:f,style:g}=t,s=X(t,vr),a=t;return n.jsx(Cr,w({className:K("PrivateSwipeArea-root",d.root,d[`anchor${q(r)}`],h),ref:o,style:w({[ke(r)?"width":"height"]:f},g),ownerState:a},s))}),Sr=br,wr=["BackdropProps"],yr=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],Ye=3,ft=20;let fe=null;function gt(e,t,o){return e==="right"?o.body.offsetWidth-t[0].pageX:t[0].pageX}function pt(e,t,o){return e==="bottom"?o.innerHeight-t[0].clientY:t[0].clientY}function _e(e,t){return e?t.clientWidth:t.clientHeight}function Ft(e,t,o,r){return Math.min(Math.max(o?t-e:r+t-e,0),r)}function jr(e,t){const o=[];for(;e&&e!==t.parentElement;){const r=Qe(t).getComputedStyle(e);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&o.push(e),e=e.parentElement}return o}function Rr({domTreeShapes:e,start:t,current:o,anchor:r}){const d={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(h=>{let f=o>=t;(r==="top"||r==="left")&&(f=!f);const g=r==="left"||r==="right"?"x":"y",s=Math.round(h[d.scrollPosition[g]]),a=s>0,i=s+h[d.clientLength[g]]<h[d.scrollLength[g]];return!!(f&&i||!f&&a)})}const Pr=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Tr=u.forwardRef(function(t,o){const r=Yt({name:"MuiSwipeableDrawer",props:t}),d=qt(),h={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{anchor:f="left",disableBackdropTransition:g=!1,disableDiscovery:s=!1,disableSwipeToOpen:a=Pr,hideBackdrop:i,hysteresis:c=.52,allowSwipeInChildren:l=!1,minFlingVelocity:m=450,ModalProps:{BackdropProps:p}={},onClose:v,onOpen:x,open:S=!1,PaperProps:j={},SwipeAreaProps:C,swipeAreaWidth:R=20,transitionDuration:E=h,variant:M="temporary"}=r,I=X(r.ModalProps,wr),k=X(r,yr),[$,H]=u.useState(!1),b=u.useRef({isSwiping:null}),W=u.useRef(),ue=u.useRef(),O=u.useRef(),pe=yt(j.ref,O),U=u.useRef(!1),me=u.useRef();St(()=>{me.current=null},[S]);const te=u.useCallback((P,Y={})=>{const{mode:_=null,changeTransition:F=!0}=Y,V=He(d,f),T=["right","bottom"].indexOf(V)!==-1?1:-1,D=ke(f),L=D?`translate(${T*P}px, 0)`:`translate(0, ${T*P}px)`,N=O.current.style;N.webkitTransform=L,N.transform=L;let G="";if(_&&(G=d.transitions.create("all",jn({easing:void 0,style:void 0,timeout:E},{mode:_}))),F&&(N.webkitTransition=G,N.transition=G),!g&&!i){const he=ue.current.style;he.opacity=1-P/_e(D,O.current),F&&(he.webkitTransition=G,he.transition=G)}},[f,g,i,d,E]),xe=at(P=>{if(!U.current)return;if(fe=null,U.current=!1,kt.flushSync(()=>{H(!1)}),!b.current.isSwiping){b.current.isSwiping=null;return}b.current.isSwiping=null;const Y=He(d,f),_=ke(f);let F;_?F=gt(Y,P.changedTouches,Ge(P.currentTarget)):F=pt(Y,P.changedTouches,Qe(P.currentTarget));const V=_?b.current.startX:b.current.startY,T=_e(_,O.current),D=Ft(F,V,S,T),L=D/T;if(Math.abs(b.current.velocity)>m&&(me.current=Math.abs((T-D)/b.current.velocity)*1e3),S){b.current.velocity>m||L>c?v():te(0,{mode:"exit"});return}b.current.velocity<-m||1-L>c?x():te(_e(_,O.current),{mode:"enter"})}),le=(P=!1)=>{if(!$){(P||!(s&&l))&&kt.flushSync(()=>{H(!0)});const Y=ke(f);!S&&O.current&&te(_e(Y,O.current)+(s?15:-ft),{changeTransition:!1}),b.current.velocity=0,b.current.lastTime=null,b.current.lastTranslate=null,b.current.paperHit=!1,U.current=!0}},ce=at(P=>{if(!O.current||!U.current||fe!==null&&fe!==b.current)return;le(!0);const Y=He(d,f),_=ke(f),F=gt(Y,P.touches,Ge(P.currentTarget)),V=pt(Y,P.touches,Qe(P.currentTarget));if(S&&O.current.contains(P.target)&&fe===null){const G=jr(P.target,O.current);if(Rr({domTreeShapes:G,start:_?b.current.startX:b.current.startY,current:_?F:V,anchor:f})){fe=!0;return}fe=b.current}if(b.current.isSwiping==null){const G=Math.abs(F-b.current.startX),he=Math.abs(V-b.current.startY),Ue=_?G>he&&G>Ye:he>G&&he>Ye;if(Ue&&P.cancelable&&P.preventDefault(),Ue===!0||(_?he>Ye:G>Ye)){if(b.current.isSwiping=Ue,!Ue){xe(P);return}b.current.startX=F,b.current.startY=V,!s&&!S&&(_?b.current.startX-=ft:b.current.startY-=ft)}}if(!b.current.isSwiping)return;const T=_e(_,O.current);let D=_?b.current.startX:b.current.startY;S&&!b.current.paperHit&&(D=Math.min(D,T));const L=Ft(_?F:V,D,S,T);if(S)if(b.current.paperHit)L===0&&(b.current.startX=F,b.current.startY=V);else if(_?F<T:V<T)b.current.paperHit=!0,b.current.startX=F,b.current.startY=V;else return;b.current.lastTranslate===null&&(b.current.lastTranslate=L,b.current.lastTime=performance.now()+1);const N=(L-b.current.lastTranslate)/(performance.now()-b.current.lastTime)*1e3;b.current.velocity=b.current.velocity*.4+N*.6,b.current.lastTranslate=L,b.current.lastTime=performance.now(),P.cancelable&&P.preventDefault(),te(L)}),ae=at(P=>{if(P.defaultPrevented||P.defaultMuiPrevented||S&&(i||!ue.current.contains(P.target))&&!O.current.contains(P.target))return;const Y=He(d,f),_=ke(f),F=gt(Y,P.touches,Ge(P.currentTarget)),V=pt(Y,P.touches,Qe(P.currentTarget));if(!S){var T;if(a||!(P.target===W.current||(T=O.current)!=null&&T.contains(P.target)&&(typeof l=="function"?l(P,W.current,O.current):l)))return;if(_){if(F>R)return}else if(V>R)return}P.defaultMuiPrevented=!0,fe=null,b.current.startX=F,b.current.startY=V,le()});return u.useEffect(()=>{if(M==="temporary"){const P=Ge(O.current);return P.addEventListener("touchstart",ae),P.addEventListener("touchmove",ce,{passive:!S}),P.addEventListener("touchend",xe),()=>{P.removeEventListener("touchstart",ae),P.removeEventListener("touchmove",ce,{passive:!S}),P.removeEventListener("touchend",xe)}}},[M,S,ae,ce,xe]),u.useEffect(()=>()=>{fe===b.current&&(fe=null)},[]),u.useEffect(()=>{S||H(!1)},[S]),n.jsxs(u.Fragment,{children:[n.jsx(Vn,w({open:M==="temporary"&&$?!0:S,variant:M,ModalProps:w({BackdropProps:w({},p,{ref:ue})},M==="temporary"&&{keepMounted:!0},I),hideBackdrop:i,PaperProps:w({},j,{style:w({pointerEvents:M==="temporary"&&!S&&!l?"none":""},j.style),ref:pe}),anchor:f,transitionDuration:me.current||E,onClose:v,ref:o},k)),!a&&M==="temporary"&&n.jsx(Fs,{children:n.jsx(Sr,w({anchor:f,ref:W,width:R},C))})]})}),kr=Tr;function Er(e){return ie("MuiSwitch",e)}const Mr=de("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ee=Mr,Dr=["className","color","edge","size","sx"],$r=e=>{const{classes:t,edge:o,size:r,color:d,checked:h,disabled:f}=e,g={root:["root",o&&`edge${q(o)}`,`size${q(r)}`],switchBase:["switchBase",`color${q(d)}`,h&&"checked",f&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=se(g,Er,t);return w({},t,s)},Ir=A("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${q(o.edge)}`],t[`size${q(o.size)}`]]}})(({ownerState:e})=>w({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${ee.thumb}`]:{width:16,height:16},[`& .${ee.switchBase}`]:{padding:4,[`&.${ee.checked}`]:{transform:"translateX(16px)"}}})),Ar=A(sn,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${ee.input}`]:t.input},o.color!=="default"&&t[`color${q(o.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${ee.checked}`]:{transform:"translateX(20px)"},[`&.${ee.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${ee.checked} + .${ee.track}`]:{opacity:.5},[`&.${ee.disabled} + .${ee.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${ee.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>w({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Re(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${ee.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Re(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ee.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?Rn(e.palette[t.color].main,.62):Pn(e.palette[t.color].main,.55)}`}},[`&.${ee.checked} + .${ee.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),Or=A("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Nr=A("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Lr=u.forwardRef(function(t,o){const r=oe({props:t,name:"MuiSwitch"}),{className:d,color:h="primary",edge:f=!1,size:g="medium",sx:s}=r,a=X(r,Dr),i=w({},r,{color:h,edge:f,size:g}),c=$r(i),l=n.jsx(Nr,{className:c.thumb,ownerState:i});return n.jsxs(Ir,{className:K(c.root,d),sx:s,ownerState:i,children:[n.jsx(Ar,w({type:"checkbox",icon:l,checkedIcon:l,ref:o,ownerState:i},a,{classes:w({},c,{root:c.switchBase})})),n.jsx(Or,{className:c.track,ownerState:i})]})}),Bt=Lr,Wt=Z(n.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),_r=Z(n.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Ut=Z(n.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy"),zr=Z(n.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}),"Dashboard"),hn=Z(n.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Fr=Z(n.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),Br=Z(n.jsx("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"}),"Fingerprint"),Wr=Z(n.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined"),Ur=Z(n.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),Gr=Z(n.jsx("path",{d:"M15 21h-2v-2h2v2zm-2-7h-2v5h2v-5zm8-2h-2v4h2v-4zm-2-2h-2v2h2v-2zM7 12H5v2h2v-2zm-2-2H3v2h2v-2zm7-5h2V3h-2v2zm-7.5-.5v3h3v-3h-3zM9 9H3V3h6v6zm-4.5 7.5v3h3v-3h-3zM9 21H3v-6h6v6zm7.5-16.5v3h3v-3h-3zM21 9h-6V3h6v6zm-2 10v-3h-4v2h2v3h4v-2h-2zm-2-7h-4v2h4v-2zm-4-2H7v2h2v2h2v-2h2v-2zm1-1V7h-2V5h-2v4h4zM6.75 5.25h-1.5v1.5h1.5v-1.5zm0 12h-1.5v1.5h1.5v-1.5zm12-12h-1.5v1.5h1.5v-1.5z"}),"QrCode2"),Vr=Z(n.jsx("path",{d:"M13 11.33 18 18H6l5-6.67V6h2m2.96-2H8.04c-.42 0-.65.48-.39.81L9 6.5v4.17L3.2 18.4c-.49.66-.02 1.6.8 1.6h16c.82 0 1.29-.94.8-1.6L15 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81z"}),"ScienceOutlined"),Hr=Z(n.jsx("path",{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 17H7V6h10v12zm-1-7.95-1.41-1.41-3.54 3.54-1.41-1.41-1.41 1.41L11.05 15 16 10.05z"}),"SystemSecurityUpdateGood"),Yr=240,Qr=function(e){const{t}=J("settings"),[o,r]=u.useState(!1);u.useEffect(()=>{e.title?e.titlePrefix?document.title=`${e.titlePrefix} - ${e.title} - Authelia`:document.title=`${e.title} - Authelia`:e.titlePrefix?document.title=`${e.titlePrefix} - ${t("Settings")} - Authelia`:document.title=`${t("Settings")} - Authelia`},[e.title,e.titlePrefix,t]);const d=e.drawerWidth===void 0?Yr:e.drawerWidth,h=s=>{s.nativeEvent instanceof KeyboardEvent&&s.nativeEvent.type==="keydown"&&(s.nativeEvent.key==="Tab"||s.nativeEvent.key==="Shift")||r(a=>!a)},f=window!==void 0?()=>window.document.body:void 0,g=n.jsxs(Q,{onClick:h,sx:{textAlign:"center"},children:[n.jsx(z,{variant:"h6",sx:{my:2},children:t("Settings")}),n.jsx(en,{}),n.jsx(Hn,{children:Xr.map(s=>n.jsx(qr,{text:s.text,pathname:s.pathname,icon:s.icon},s.keyname))})]});return n.jsxs(Q,{sx:{display:"flex"},children:[n.jsx(Yn,{component:"nav",children:n.jsxs(Dt,{children:[n.jsx(Xe,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:h,sx:{mr:2},children:n.jsx(Ur,{})}),n.jsx(z,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:o?"none":"block"}},children:t("Settings")})]})}),n.jsx(Q,{component:"nav",children:n.jsx(kr,{container:f,anchor:"left",open:o,onOpen:h,onClose:h,ModalProps:{keepMounted:!0},sx:{display:{xs:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:d}},children:g})}),n.jsxs(Q,{component:"main",sx:{flexGrow:1,p:3},children:[n.jsx(Dt,{}),e.children]})]})},Xr=[{keyname:"overview",text:"Overview",pathname:it,icon:n.jsx(zr,{color:"primary"})},{keyname:"twofactor",text:"Two-Factor Authentication",pathname:`${it}${Kt}`,icon:n.jsx(Hr,{color:"primary"})},{keyname:"test",text:"Test",pathname:`${it}${Zt}`,icon:n.jsx(Vr,{color:"primary"})},{keyname:"close",text:"Close",pathname:xt,icon:n.jsx(_r,{color:"error"})}],qr=function(e){const t=window.location.pathname===e.pathname||window.location.pathname===e.pathname+"/",o=Jt(),r=u.useCallback(()=>{t||o(e.pathname)},[o,e,t]);return n.jsx(qn,{disablePadding:!0,onClick:r,children:n.jsxs(vo,{selected:t,children:[e.icon?n.jsx(Qn,{children:e.icon}):null,n.jsx(Kn,{primary:e.text})]})})},Kr=function(e){return n.jsx(Q,{children:n.jsx(z,{children:"Placeholder"})})};async function Zr(){var e=await we({method:"GET",url:re});if(e.status!==200||Se(e).errored)throw new Error(`Failed POST to ${re}. Code: ${e.status}. Message: ${Se(e).message}`);return nt(e)}async function Jr(){var e=await we({method:"POST",url:re});if(e.status!==200||Se(e).errored)throw new Error(`Failed POST to ${re}. Code: ${e.status}. Message: ${Se(e).message}`);return nt(e)}async function ea(e){return we({method:"PUT",url:re,data:{otp:e}})}async function ta(e){return we({method:"DELETE",url:`${re}/${e}`})}const na=function(e){return n.jsx(Me,{...e,inputProps:{style:{textTransform:"uppercase",textAlign:"center",letterSpacing:".5rem"}},variant:"outlined",spellCheck:!1})};async function sa(){const e=await we({method:"GET",url:re});if(e.status!==200||Se(e).errored)throw new Error(`Failed POST to ${re}. Code: ${e.status}. Message: ${Se(e).message}`);return nt(e)}async function oa(){const e=await we({method:"POST",url:re});if(e.status!==200||Se(e).errored)throw new Error(`Failed POST to ${re}. Code: ${e.status}. Message: ${Se(e).message}`);return nt(e)}async function ra(e){const t=await we({method:"PUT",url:re,data:{otc:e},validateStatus:o=>o===401||o>=200&&o<400});return t.status===200&&t.data.status==="OK"}async function aa(e){const t=await we({method:"DELETE",url:`${re}/${e}`});return t.status===200&&t.data.status==="OK"}const Tt=function(e){const{t}=J("settings"),o=ia(),{createErrorNotification:r}=ye(),[d,h]=u.useState(!1),[f,g]=u.useState(!1),[s,a]=u.useState(!1),[i,c]=u.useState(!1),[l,m]=u.useState(""),[p,v]=u.useState(void 0),[x,S]=u.useState(!1),j=u.useRef(null),C=u.useCallback(b=>{m(""),v(void 0),S(!1),h(!1),a(!1),c(!1),g(!1),e.handleClosed(b)},[e]),R=u.useCallback(async()=>{if(!p)throw new Error("The delete code was empty.");await aa(p)},[p]),E=u.useCallback(()=>{g(!0),R().catch(console.error),C(!1)},[C,R]),M=u.useCallback(()=>{c(!0),setTimeout(()=>{C(!0)},750)},[C]),I=u.useCallback(()=>{var b;m(""),S(!0),a(!1),r(t("The one-time code either doesn't match the one generated or an unknown error occurred.")),(b=j.current)==null||b.focus()},[r,t]),k=u.useCallback(async()=>{const b=await sa();if(b&&b.elevated){C(!0);return}const W=await oa();if(!W)throw new Error("Failed to load the data.");v(W.delete_id),d||(e.handleOpened(),h(!0))},[C,d,e]),$=u.useCallback(async()=>{if(l==="")return;a(!0),await ra(l)?M():I()},[l,I,M]);u.useEffect(()=>{f||!e.opening||(m(""),k().catch(console.error))},[f,k,e.opening]);const H=b=>{m(b.target.value.replace(/\s/g,"")),S(!1)};return n.jsxs($e,{open:d,onClose:E,children:[n.jsx(Oe,{children:t("Identity Verification")}),i?n.jsx(Pe,{children:n.jsx(Q,{className:o.success,sx:{display:"flex",flexDirection:"column",m:"auto",width:"fit-content",padding:"5.0rem"},children:n.jsx(nn,{})})}):n.jsxs(Pe,{dividers:!0,children:[n.jsx(z,{gutterBottom:!0,children:t("In order to perform this action policy enforcement requires additional identity verification and a one-time code has been sent to your email.")}),n.jsx(z,{gutterBottom:!0,children:t("Closing this dialog or selecting cancel will invalidate the one-time code.")}),n.jsx(Q,{sx:{display:"flex",flexDirection:"column",m:"auto",width:"fit-content",marginY:"2.5rem"},children:n.jsx(na,{label:"One-Time Code",autoFocus:!0,value:l,onChange:H,error:x,disabled:s,inputRef:j})})]}),i?null:n.jsxs(Ie,{children:[n.jsx(B,{variant:"outlined",color:"error",disabled:s,onClick:E,children:t("Cancel")}),n.jsx(B,{variant:"outlined",color:"primary",disabled:s,startIcon:s?n.jsx(Ze,{color:"inherit",size:20}):void 0,onClick:$,children:t("Verify")})]})]})},ia=Fe(e=>({centered:{display:"flex",flexDirection:"column",m:"auto",width:"fit-content",marginY:"2.5rem"},success:{marginBottom:e.spacing(2),flex:"0 0 100%",display:"flex",flexDirection:"column",m:"auto",width:"fit-content",marginY:"2.5rem"}})),la=function(e){const[t,o]=u.useState(!1),[r,d]=u.useState(""),[h,f]=u.useState(""),g=async()=>{const l=await Zr();l!==void 0&&console.table(l)},s=async()=>{const l=await Jr();console.table(l)},a=async()=>{const l=await ea(r);console.log(l.data)},i=async()=>{const l=await ta(h);console.log(l.data)},c=l=>{console.log("handle close",l),o(!1)};return n.jsxs(u.Fragment,{children:[n.jsx(Tt,{opening:t,handleClosed:c,handleOpened:()=>o(!1)}),n.jsxs(y,{container:!0,spacing:2,children:[n.jsx(y,{xs:12,children:n.jsx(B,{onClick:()=>o(!0),children:"Show"})}),n.jsx(y,{xs:12,children:n.jsx(B,{onClick:g,children:"Get"})}),n.jsx(y,{xs:12,children:n.jsx(B,{onClick:s,children:"Create"})}),n.jsx(y,{xs:12,children:n.jsx(Me,{label:"One-Time Password",variant:"outlined",value:r,onChange:l=>d(l.target.value)})}),n.jsx(y,{xs:12,children:n.jsx(B,{onClick:a,children:"Submit"})}),n.jsx(y,{xs:12,children:n.jsx(Me,{label:"Delete ID",variant:"outlined",value:h,onChange:l=>f(l.target.value)})}),n.jsx(y,{xs:12,children:n.jsx(B,{onClick:i,children:"Delete"})})]})]})};async function ca(){const e=await Tn(kn);return e===null?[]:e}function da(){return En(ca,[])}const Je={hour:"numeric",minute:"numeric",year:"numeric",month:"long",day:"numeric"},fn=function(e){const{t}=J("settings");return n.jsx(st,{variant:"outlined",children:n.jsx(Q,{sx:{p:3},children:n.jsxs(bt,{direction:"row",spacing:1,alignItems:"center",children:[e.icon,n.jsxs(bt,{spacing:0,children:[n.jsxs(Q,{children:[n.jsx(z,{display:"inline",sx:{fontWeight:"bold"},children:e.description}),n.jsx(z,{display:"inline",variant:"body2",children:e.qualifier})]}),n.jsx(z,{variant:"caption",children:t("Added when",{when:e.created_at,formatParams:{when:Je}})}),n.jsx(z,{variant:"caption",children:e.last_used_at===void 0?t("Never used"):t("Last Used when",{when:e.last_used_at,formatParams:{when:Je}})})]}),e.handleInformation?n.jsx(Gt,{tooltip:e.tooltipInformation,children:n.jsx(Xe,{color:"primary",onClick:e.handleInformation,children:n.jsx(Wr,{})})}):null,e.handleEdit?n.jsx(Gt,{tooltip:e.tooltipEdit,children:n.jsx(Xe,{color:"primary",onClick:e.handleEdit,children:n.jsx(Fr,{})})}):null,n.jsx(Be,{title:e.tooltipDelete,children:n.jsx(Xe,{color:"primary",onClick:e.handleDelete,children:n.jsx(hn,{})})})]})})})},Gt=function(e){return e.tooltip!==void 0&&e.tooltip!==""?n.jsx(Be,{title:e.tooltip,children:e.children}):e.children},ua=function(e){const{t}=J("settings");return n.jsx(fn,{icon:n.jsx(Gr,{fontSize:"large"}),description:e.config.issuer,qualifier:" ("+t("{{algorithm}}, {{digits}} digits, {{seconds}} seconds",{algorithm:Ct(e.config.algorithm),digits:e.config.digits,seconds:e.config.period})+")",created_at:e.config.created_at,last_used_at:e.config.last_used_at,handleDelete:e.handleDelete,tooltipDelete:t("Remove the Time-based One-Time Password configuration")})},gn=function(e){const{t}=J("settings"),o=()=>{e.handleClose(!1)},r=()=>{e.handleClose(!0)};return n.jsxs($e,{open:e.open,onClose:o,children:[n.jsx(Oe,{children:e.title}),n.jsx(Pe,{children:n.jsx(De,{children:n.jsx(z,{my:2,children:e.text})})}),n.jsxs(Ie,{children:[n.jsx(B,{onClick:o,children:t("Cancel")}),n.jsx(B,{variant:"outlined",color:"error",startIcon:n.jsx(hn,{}),onClick:r,children:t("Remove")})]})]})},ha=function(e){const{t}=J("settings"),{createSuccessNotification:o,createErrorNotification:r}=ye(),d=()=>{e.handleClose()},h=async()=>{const g=await rs();if(g.data.status==="KO"){g.data.elevation?r(t("You must be elevated to delete the One-Time Password")):g.data.authentication?r(t("You must have a higher authentication level to delete the One-Time Password")):r(t("There was a problem deleting the One-Time Password"));return}o(t("Successfully deleted the One-Time Password configuration")),e.handleClose()},f=g=>{g?h().catch(console.error):d()};return n.jsx(gn,{open:e.open,handleClose:f,title:t("Remove One-Time Password"),text:t("Are you sure you want to remove the Time-based One-Time Password from from your account")})};var fa=Object.defineProperty,et=Object.getOwnPropertySymbols,pn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,Vt=(e,t,o)=>t in e?fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,ga=(e,t)=>{for(var o in t||(t={}))pn.call(t,o)&&Vt(e,o,t[o]);if(et)for(var o of et(t))mn.call(t,o)&&Vt(e,o,t[o]);return e},pa=(e,t)=>{var o={};for(var r in e)pn.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&et)for(var r of et(e))t.indexOf(r)<0&&mn.call(e,r)&&(o[r]=e[r]);return o};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Te;(e=>{const t=class{constructor(s,a,i,c){if(this.version=s,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],s<t.MIN_VERSION||s>t.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=s*4+17;let l=[];for(let p=0;p<this.size;p++)l.push(!1);for(let p=0;p<this.size;p++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(i);if(this.drawCodewords(m),c==-1){let p=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const x=this.getPenaltyScore();x<p&&(c=v,p=x),this.applyMask(v)}}h(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}static encodeText(s,a){const i=e.QrSegment.makeSegments(s);return t.encodeSegments(i,a)}static encodeBinary(s,a){const i=e.QrSegment.makeBytes(s);return t.encodeSegments([i],a)}static encodeSegments(s,a,i=1,c=40,l=-1,m=!0){if(!(t.MIN_VERSION<=i&&i<=c&&c<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let p,v;for(p=i;;p++){const C=t.getNumDataCodewords(p,a)*8,R=g.getTotalBits(s,p);if(R<=C){v=R;break}if(p>=c)throw new RangeError("Data too long")}for(const C of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])m&&v<=t.getNumDataCodewords(p,C)*8&&(a=C);let x=[];for(const C of s){r(C.mode.modeBits,4,x),r(C.numChars,C.mode.numCharCountBits(p),x);for(const R of C.getData())x.push(R)}h(x.length==v);const S=t.getNumDataCodewords(p,a)*8;h(x.length<=S),r(0,Math.min(4,S-x.length),x),r(0,(8-x.length%8)%8,x),h(x.length%8==0);for(let C=236;x.length<S;C^=253)r(C,8,x);let j=[];for(;j.length*8<x.length;)j.push(0);return x.forEach((C,R)=>j[R>>>3]|=C<<7-(R&7)),new t(p,a,j,l)}getModule(s,a){return 0<=s&&s<this.size&&0<=a&&a<this.size&&this.modules[a][s]}getModules(){return this.modules}drawFunctionPatterns(){for(let i=0;i<this.size;i++)this.setFunctionModule(6,i,i%2==0),this.setFunctionModule(i,6,i%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const s=this.getAlignmentPatternPositions(),a=s.length;for(let i=0;i<a;i++)for(let c=0;c<a;c++)i==0&&c==0||i==0&&c==a-1||i==a-1&&c==0||this.drawAlignmentPattern(s[i],s[c]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(s){const a=this.errorCorrectionLevel.formatBits<<3|s;let i=a;for(let l=0;l<10;l++)i=i<<1^(i>>>9)*1335;const c=(a<<10|i)^21522;h(c>>>15==0);for(let l=0;l<=5;l++)this.setFunctionModule(8,l,d(c,l));this.setFunctionModule(8,7,d(c,6)),this.setFunctionModule(8,8,d(c,7)),this.setFunctionModule(7,8,d(c,8));for(let l=9;l<15;l++)this.setFunctionModule(14-l,8,d(c,l));for(let l=0;l<8;l++)this.setFunctionModule(this.size-1-l,8,d(c,l));for(let l=8;l<15;l++)this.setFunctionModule(8,this.size-15+l,d(c,l));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let s=this.version;for(let i=0;i<12;i++)s=s<<1^(s>>>11)*7973;const a=this.version<<12|s;h(a>>>18==0);for(let i=0;i<18;i++){const c=d(a,i),l=this.size-11+i%3,m=Math.floor(i/3);this.setFunctionModule(l,m,c),this.setFunctionModule(m,l,c)}}drawFinderPattern(s,a){for(let i=-4;i<=4;i++)for(let c=-4;c<=4;c++){const l=Math.max(Math.abs(c),Math.abs(i)),m=s+c,p=a+i;0<=m&&m<this.size&&0<=p&&p<this.size&&this.setFunctionModule(m,p,l!=2&&l!=4)}}drawAlignmentPattern(s,a){for(let i=-2;i<=2;i++)for(let c=-2;c<=2;c++)this.setFunctionModule(s+c,a+i,Math.max(Math.abs(c),Math.abs(i))!=1)}setFunctionModule(s,a,i){this.modules[a][s]=i,this.isFunction[a][s]=!0}addEccAndInterleave(s){const a=this.version,i=this.errorCorrectionLevel;if(s.length!=t.getNumDataCodewords(a,i))throw new RangeError("Invalid argument");const c=t.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][a],l=t.ECC_CODEWORDS_PER_BLOCK[i.ordinal][a],m=Math.floor(t.getNumRawDataModules(a)/8),p=c-m%c,v=Math.floor(m/c);let x=[];const S=t.reedSolomonComputeDivisor(l);for(let C=0,R=0;C<c;C++){let E=s.slice(R,R+v-l+(C<p?0:1));R+=E.length;const M=t.reedSolomonComputeRemainder(E,S);C<p&&E.push(0),x.push(E.concat(M))}let j=[];for(let C=0;C<x[0].length;C++)x.forEach((R,E)=>{(C!=v-l||E>=p)&&j.push(R[C])});return h(j.length==m),j}drawCodewords(s){if(s.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let a=0;for(let i=this.size-1;i>=1;i-=2){i==6&&(i=5);for(let c=0;c<this.size;c++)for(let l=0;l<2;l++){const m=i-l,v=(i+1&2)==0?this.size-1-c:c;!this.isFunction[v][m]&&a<s.length*8&&(this.modules[v][m]=d(s[a>>>3],7-(a&7)),a++)}}h(a==s.length*8)}applyMask(s){if(s<0||s>7)throw new RangeError("Mask value out of range");for(let a=0;a<this.size;a++)for(let i=0;i<this.size;i++){let c;switch(s){case 0:c=(i+a)%2==0;break;case 1:c=a%2==0;break;case 2:c=i%3==0;break;case 3:c=(i+a)%3==0;break;case 4:c=(Math.floor(i/3)+Math.floor(a/2))%2==0;break;case 5:c=i*a%2+i*a%3==0;break;case 6:c=(i*a%2+i*a%3)%2==0;break;case 7:c=((i+a)%2+i*a%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[a][i]&&c&&(this.modules[a][i]=!this.modules[a][i])}}getPenaltyScore(){let s=0;for(let l=0;l<this.size;l++){let m=!1,p=0,v=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[l][x]==m?(p++,p==5?s+=t.PENALTY_N1:p>5&&s++):(this.finderPenaltyAddHistory(p,v),m||(s+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),m=this.modules[l][x],p=1);s+=this.finderPenaltyTerminateAndCount(m,p,v)*t.PENALTY_N3}for(let l=0;l<this.size;l++){let m=!1,p=0,v=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][l]==m?(p++,p==5?s+=t.PENALTY_N1:p>5&&s++):(this.finderPenaltyAddHistory(p,v),m||(s+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),m=this.modules[x][l],p=1);s+=this.finderPenaltyTerminateAndCount(m,p,v)*t.PENALTY_N3}for(let l=0;l<this.size-1;l++)for(let m=0;m<this.size-1;m++){const p=this.modules[l][m];p==this.modules[l][m+1]&&p==this.modules[l+1][m]&&p==this.modules[l+1][m+1]&&(s+=t.PENALTY_N2)}let a=0;for(const l of this.modules)a=l.reduce((m,p)=>m+(p?1:0),a);const i=this.size*this.size,c=Math.ceil(Math.abs(a*20-i*10)/i)-1;return h(0<=c&&c<=9),s+=c*t.PENALTY_N4,h(0<=s&&s<=2568888),s}getAlignmentPatternPositions(){if(this.version==1)return[];{const s=Math.floor(this.version/7)+2,a=this.version==32?26:Math.ceil((this.version*4+4)/(s*2-2))*2;let i=[6];for(let c=this.size-7;i.length<s;c-=a)i.splice(1,0,c);return i}}static getNumRawDataModules(s){if(s<t.MIN_VERSION||s>t.MAX_VERSION)throw new RangeError("Version number out of range");let a=(16*s+128)*s+64;if(s>=2){const i=Math.floor(s/7)+2;a-=(25*i-10)*i-55,s>=7&&(a-=36)}return h(208<=a&&a<=29648),a}static getNumDataCodewords(s,a){return Math.floor(t.getNumRawDataModules(s)/8)-t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][s]*t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][s]}static reedSolomonComputeDivisor(s){if(s<1||s>255)throw new RangeError("Degree out of range");let a=[];for(let c=0;c<s-1;c++)a.push(0);a.push(1);let i=1;for(let c=0;c<s;c++){for(let l=0;l<a.length;l++)a[l]=t.reedSolomonMultiply(a[l],i),l+1<a.length&&(a[l]^=a[l+1]);i=t.reedSolomonMultiply(i,2)}return a}static reedSolomonComputeRemainder(s,a){let i=a.map(c=>0);for(const c of s){const l=c^i.shift();i.push(0),a.forEach((m,p)=>i[p]^=t.reedSolomonMultiply(m,l))}return i}static reedSolomonMultiply(s,a){if(s>>>8||a>>>8)throw new RangeError("Byte out of range");let i=0;for(let c=7;c>=0;c--)i=i<<1^(i>>>7)*285,i^=(a>>>c&1)*s;return h(i>>>8==0),i}finderPenaltyCountPatterns(s){const a=s[1];h(a<=this.size*3);const i=a>0&&s[2]==a&&s[3]==a*3&&s[4]==a&&s[5]==a;return(i&&s[0]>=a*4&&s[6]>=a?1:0)+(i&&s[6]>=a*4&&s[0]>=a?1:0)}finderPenaltyTerminateAndCount(s,a,i){return s&&(this.finderPenaltyAddHistory(a,i),a=0),a+=this.size,this.finderPenaltyAddHistory(a,i),this.finderPenaltyCountPatterns(i)}finderPenaltyAddHistory(s,a){a[0]==0&&(s+=this.size),a.pop(),a.unshift(s)}};let o=t;o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=o;function r(s,a,i){if(a<0||a>31||s>>>a)throw new RangeError("Value out of range");for(let c=a-1;c>=0;c--)i.push(s>>>c&1)}function d(s,a){return(s>>>a&1)!=0}function h(s){if(!s)throw new Error("Assertion error")}const f=class{constructor(s,a,i){if(this.mode=s,this.numChars=a,this.bitData=i,a<0)throw new RangeError("Invalid argument");this.bitData=i.slice()}static makeBytes(s){let a=[];for(const i of s)r(i,8,a);return new f(f.Mode.BYTE,s.length,a)}static makeNumeric(s){if(!f.isNumeric(s))throw new RangeError("String contains non-numeric characters");let a=[];for(let i=0;i<s.length;){const c=Math.min(s.length-i,3);r(parseInt(s.substr(i,c),10),c*3+1,a),i+=c}return new f(f.Mode.NUMERIC,s.length,a)}static makeAlphanumeric(s){if(!f.isAlphanumeric(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");let a=[],i;for(i=0;i+2<=s.length;i+=2){let c=f.ALPHANUMERIC_CHARSET.indexOf(s.charAt(i))*45;c+=f.ALPHANUMERIC_CHARSET.indexOf(s.charAt(i+1)),r(c,11,a)}return i<s.length&&r(f.ALPHANUMERIC_CHARSET.indexOf(s.charAt(i)),6,a),new f(f.Mode.ALPHANUMERIC,s.length,a)}static makeSegments(s){return s==""?[]:f.isNumeric(s)?[f.makeNumeric(s)]:f.isAlphanumeric(s)?[f.makeAlphanumeric(s)]:[f.makeBytes(f.toUtf8ByteArray(s))]}static makeEci(s){let a=[];if(s<0)throw new RangeError("ECI assignment value out of range");if(s<128)r(s,8,a);else if(s<16384)r(2,2,a),r(s,14,a);else if(s<1e6)r(6,3,a),r(s,21,a);else throw new RangeError("ECI assignment value out of range");return new f(f.Mode.ECI,0,a)}static isNumeric(s){return f.NUMERIC_REGEX.test(s)}static isAlphanumeric(s){return f.ALPHANUMERIC_REGEX.test(s)}getData(){return this.bitData.slice()}static getTotalBits(s,a){let i=0;for(const c of s){const l=c.mode.numCharCountBits(a);if(c.numChars>=1<<l)return 1/0;i+=4+l+c.bitData.length}return i}static toUtf8ByteArray(s){s=encodeURI(s);let a=[];for(let i=0;i<s.length;i++)s.charAt(i)!="%"?a.push(s.charCodeAt(i)):(a.push(parseInt(s.substr(i+1,2),16)),i+=2);return a}};let g=f;g.NUMERIC_REGEX=/^[0-9]*$/,g.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,g.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=g})(Te||(Te={}));(e=>{(t=>{const o=class{constructor(d,h){this.ordinal=d,this.formatBits=h}};let r=o;r.LOW=new o(0,1),r.MEDIUM=new o(1,0),r.QUARTILE=new o(2,3),r.HIGH=new o(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Te||(Te={}));(e=>{(t=>{const o=class{constructor(d,h){this.modeBits=d,this.numBitsCharCount=h}numCharCountBits(d){return this.numBitsCharCount[Math.floor((d+7)/17)]}};let r=o;r.NUMERIC=new o(1,[10,12,14]),r.ALPHANUMERIC=new o(2,[9,11,13]),r.BYTE=new o(4,[8,16,16]),r.KANJI=new o(8,[8,10,12]),r.ECI=new o(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Te||(Te={}));var ze=Te;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ma={L:ze.QrCode.Ecc.LOW,M:ze.QrCode.Ecc.MEDIUM,Q:ze.QrCode.Ecc.QUARTILE,H:ze.QrCode.Ecc.HIGH},xa=128,va="L",Ca="#FFFFFF",ba="#000000",Sa=!1,xn=4,wa=.1;function ya(e,t=0){const o=[];return e.forEach(function(r,d){let h=null;r.forEach(function(f,g){if(!f&&h!==null){o.push(`M${h+t} ${d+t}h${g-h}v1H${h+t}z`),h=null;return}if(g===r.length-1){if(!f)return;h===null?o.push(`M${g+t},${d+t} h1v1H${g+t}z`):o.push(`M${h+t},${d+t} h${g+1-h}v1H${h+t}z`);return}f&&h===null&&(h=g)})}),o.join("")}function ja(e,t){return e.slice().map((o,r)=>r<t.y||r>=t.y+t.h?o:o.map((d,h)=>h<t.x||h>=t.x+t.w?d:!1))}function Ra(e,t,o,r){if(r==null)return null;const d=o?xn:0,h=e.length+d*2,f=Math.floor(t*wa),g=h/t,s=(r.width||f)*g,a=(r.height||f)*g,i=r.x==null?e.length/2-s/2:r.x*g,c=r.y==null?e.length/2-a/2:r.y*g;let l=null;if(r.excavate){let m=Math.floor(i),p=Math.floor(c),v=Math.ceil(s+i-m),x=Math.ceil(a+c-p);l={x:m,y:p,w:v,h:x}}return{x:i,y:c,h:a,w:s,excavation:l}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function Pa(e){const t=e,{value:o,size:r=xa,level:d=va,bgColor:h=Ca,fgColor:f=ba,includeMargin:g=Sa,imageSettings:s}=t,a=pa(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let i=ze.QrCode.encodeText(o,ma[d]).getModules();const c=g?xn:0,l=i.length+c*2,m=Ra(i,r,g,s);let p=null;s!=null&&m!=null&&(m.excavation!=null&&(i=ja(i,m.excavation)),p=Ve.createElement("image",{xlinkHref:s.src,height:m.h,width:m.w,x:m.x+c,y:m.y+c,preserveAspectRatio:"none"}));const v=ya(i,c);return Ve.createElement("svg",ga({height:r,width:r,viewBox:`0 0 ${l} ${l}`},a),Ve.createElement("path",{fill:h,d:`M0,0 h${l}v${l}H0z`,shapeRendering:"crispEdges"}),Ve.createElement("path",{fill:f,d:v,shapeRendering:"crispEdges"}),p)}const Ta=""+new URL("../media/applestore-badge.4cfabcfd.svg",import.meta.url).href,ka=""+new URL("../media/googleplay-badge.00ff1bb4.svg",import.meta.url).href,Ea=function(e){const t=e.targetBlank?"_blank":void 0,o=Fe(r=>({badge:{width:e.iconSize}}))();return n.jsxs(Q,{className:e.className,children:[n.jsx(vt,{href:e.googlePlayLink,target:t,underline:"hover",children:n.jsx("img",{src:ka,alt:"google play",className:o.badge})}),n.jsx(vt,{href:e.appleStoreLink,target:t,underline:"hover",children:n.jsx("img",{src:Ta,alt:"apple store",className:o.badge})})]})},Ma=500,Da=2e3,tt=function(e){const[t,o]=u.useState(!1),[r,d]=u.useState(!1),h=e.msTimeoutCopying?e.msTimeoutCopying:Ma,f=e.msTimeoutCopied?e.msTimeoutCopied:Da,g=()=>{t||!e.value||e.value===""||(async s=>{d(!0),await navigator.clipboard.writeText(s),setTimeout(()=>{d(!1),o(!0)},h),setTimeout(()=>{o(!1)},f)})(e.value)};return e.value===null||e.value===""?n.jsx(B,{variant:e.variant?e.variant:"outlined",color:t?"success":"primary",disabled:!0,sx:e.sx,fullWidth:e.fullWidth,startIcon:r?n.jsx(Ze,{color:"inherit",size:20}):t?n.jsx(Wt,{}):n.jsx(Ut,{}),children:t&&e.childrenCopied?e.childrenCopied:e.children}):n.jsx(Be,{title:e.tooltip,children:n.jsx(B,{variant:e.variant?e.variant:"outlined",color:t?"success":"primary",onClick:r?void 0:g,sx:e.sx,fullWidth:e.fullWidth,startIcon:r?n.jsx(Ze,{color:"inherit",size:20}):t?n.jsx(Wt,{}):n.jsx(Ut,{}),children:t&&e.childrenCopied?e.childrenCopied:e.children})})},Ht={googlePlay:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en_us",appleStore:"https://apps.apple.com/us/app/google-authenticator/id388497605"};async function $a(e,t,o){return Mn(Dn,{algorithm:e,length:t,period:o})}const mt=["Start","Register","Confirm"],Ia=function(e){const{t}=J("settings"),o=Aa(),{createErrorNotification:r}=ye(),[d,h]=u.useState({algorithm:"",length:6,period:30}),[f,g]=u.useState(null),[s,a]=u.useState({algorithms:[],lengths:[],periods:[]}),[i,c]=u.useState(0),[l,m]=u.useState(null),[p,v]=u.useState(null),[x,S]=u.useState(!1),[j,C]=u.useState(!1),[R,E]=u.useState(!1),[M,I]=u.useState(""),[k,$]=u.useState(Le.Idle),[H,b]=u.useState(!0),[W,ue]=u.useState(!1),O=u.useCallback(()=>{f&&h(f),m(null),v(null),S(!1),C(!1),c(0),I(""),$(Le.Idle),b(!0)},[f]),pe=u.useCallback(()=>{(async()=>{if(e.setClosed(),l!=="")try{await as()}catch(T){console.error(T)}O()})()},[e,l,O]),U=u.useCallback(()=>{ue(!0),setTimeout(()=>{e.setClosed(),O()},750)},[e,O]),me=()=>{e.open&&pe()};u.useEffect(()=>{!e.open||i!==0||f!==null||(async()=>{const T=await is(),D={algorithm:Ct(T.algorithm),length:T.length,period:T.period};a({algorithms:T.algorithms.map(L=>Ct(L)),lengths:T.lengths,periods:T.periods}),g(D),h(D)})()},[e.open,i,f,d]);const te=u.useCallback(()=>{i!==0&&(C(!1),c(T=>T-1))},[i]),xe=u.useCallback(()=>{i!==mt.length-1&&(C(!1),c(T=>T+1))},[i]);u.useEffect(()=>{!e.open||i!==1||(async()=>{S(!0);try{const T=await $a(d.algorithm,d.length,d.period);m(T.otpauth_url),v(T.base32_secret)}catch(T){console.error(T),T.message.includes("Request failed with status code 403")?r(t("You must open the link from the same device and browser that initiated the registration process")):r(t("Failed to register device, the provided link is expired or has already been used")),E(!0)}S(!1)})()},[i,r,d,e.open,t]),u.useEffect(()=>{!e.open||i!==2||k===Le.InProgress||M.length!==d.length||(async()=>{$(Le.InProgress);try{const T=M;I(""),await ls(T),U()}catch(T){console.error(T),$(Le.Failure)}})()},[i,k,M,M.length,U,e.open,d.length]);const le=()=>{C(T=>!T)},ce=f!==null&&(s.algorithms.length!==1||s.lengths.length!==1||s.periods.length!==1),ae=f===null||s.algorithms.length<=1&&s.lengths.length<=1&&s.periods.length<=1,P=ce&&s.algorithms.length<=1,Y=ce&&s.lengths.length<=1,_=ce&&s.periods.length<=1,F=x||R?o.fuzzy:void 0;function V(T){switch(T){case 0:return n.jsx(u.Fragment,{children:f===null?n.jsx(y,{xs:12,my:3,children:n.jsx(z,{children:"Loading..."})}):n.jsxs(y,{container:!0,children:[n.jsx(y,{xs:12,my:3,children:n.jsx(z,{children:t("To begin select next")})}),n.jsx(y,{xs:12,hidden:ae,children:n.jsx(Ce,{disabled:ae,control:n.jsx(Bt,{checked:j,onChange:le}),label:t("Advanced")})}),n.jsx(y,{xs:12,hidden:ae||!j,justifyContent:"center",alignItems:"center",children:n.jsxs(tn,{fullWidth:!0,children:[n.jsx(qe,{id:"lbl-adv-algorithms",hidden:P,children:t("Algorithm")}),n.jsx(Ke,{row:!0,"aria-labelledby":"lbl-adv-algorithms",value:d.algorithm,hidden:P,style:{justifyContent:"center"},onChange:(D,L)=>{h(N=>({...N,algorithm:L})),D.preventDefault()},children:s.algorithms.map(D=>n.jsx(Ce,{value:D,control:n.jsx(Ee,{}),label:D},D))}),n.jsx(qe,{id:"lbl-adv-lengths",hidden:Y,children:t("Length")}),n.jsx(Ke,{row:!0,"aria-labelledby":"lbl-adv-lengths",value:d.length.toString(),hidden:Y,style:{justifyContent:"center"},onChange:(D,L)=>{h(N=>({...N,length:parseInt(L)})),D.preventDefault()},children:s.lengths.map(D=>n.jsx(Ce,{value:D.toString(),control:n.jsx(Ee,{}),label:D.toString()},D.toString()))}),n.jsx(qe,{id:"lbl-adv-periods",hidden:_,children:t("Seconds")}),n.jsx(Ke,{row:!0,"aria-labelledby":"lbl-adv-periods",value:d.period.toString(),hidden:_,style:{justifyContent:"center"},onChange:(D,L)=>{h(N=>({...N,period:parseInt(L)})),D.preventDefault()},children:s.periods.map(D=>n.jsx(Ce,{value:D.toString(),control:n.jsx(Ee,{}),label:D.toString()},D.toString()))})]})})]})});case 1:return n.jsxs(u.Fragment,{children:[n.jsx(y,{xs:12,my:2,children:n.jsx(Ce,{disabled:ae,control:n.jsx(Bt,{checked:H,onChange:()=>{b(D=>!D)}}),label:t("QR Code")})}),n.jsx(y,{xs:12,hidden:!H,children:n.jsx(Q,{className:fs(F,o.qrcodeContainer),children:l!==null?n.jsxs(vt,{href:l,underline:"hover",children:[n.jsx(Pa,{value:l,className:o.qrcode,size:200}),!R&&x?n.jsx(Ze,{className:o.loader,size:128}):null,R?n.jsx(ts,{className:o.failureIcon,icon:us}):null]}):null})}),n.jsx(y,{xs:12,hidden:H,children:n.jsxs(y,{container:!0,spacing:2,justifyContent:"center",children:[n.jsx(y,{xs:4,children:n.jsx(tt,{tooltip:t("Click to Copy"),value:l,childrenCopied:t("Copied"),fullWidth:!0,children:t("OTP URL")})}),n.jsx(y,{xs:4,children:n.jsx(tt,{tooltip:t("Click to Copy"),value:p,childrenCopied:t("Copied"),fullWidth:!0,children:t("Secret")})}),n.jsx(y,{xs:12,children:n.jsx(Me,{id:"secret-url",label:t("Secret"),className:o.secret,value:l===null?"":l,multiline:!0,InputProps:{readOnly:!0}})})]})}),n.jsx(y,{xs:12,sx:{display:{xs:"none",md:"block"}},children:n.jsxs(Q,{children:[n.jsx(z,{className:o.googleAuthenticatorText,children:t("Need Google Authenticator?")}),n.jsx(Ea,{iconSize:110,targetBlank:!0,className:o.googleAuthenticatorBadges,googlePlayLink:Ht.googlePlay,appleStoreLink:Ht.appleStore})]})})]});case 2:return n.jsx(u.Fragment,{children:n.jsx(y,{xs:12,paddingY:4,children:W?n.jsx(Q,{className:o.success,children:n.jsx(nn,{})}):n.jsx(cs,{passcode:M,state:k,digits:d.length,period:d.period,onChange:I})})})}}return n.jsxs($e,{open:e.open,onClose:me,maxWidth:"lg",fullWidth:!0,children:[n.jsx(Oe,{children:t("Register One-Time Password (TOTP)")}),n.jsxs(Pe,{children:[n.jsx(De,{sx:{mb:3},children:t("This dialog allows registration of the One-Time Password.")}),n.jsxs(y,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",textAlign:"center",children:[n.jsx(y,{xs:12,children:n.jsx(un,{activeStep:i,children:mt.map((T,D)=>{const L={},N={};return n.jsx(ln,{...L,children:n.jsx(dn,{...N,children:t(T)})},T)})})}),n.jsx(y,{xs:12,children:n.jsx(y,{container:!0,spacing:1,justifyContent:"center",children:V(i)})})]})]}),n.jsxs(Ie,{children:[n.jsx(B,{color:"primary",onClick:te,disabled:i===0,children:t("Previous")}),n.jsx(B,{color:"error",onClick:pe,children:t("Cancel")}),n.jsx(B,{color:"primary",onClick:xe,disabled:i===mt.length-1,children:t("Next")})]})]})},Aa=Fe(e=>({qrcode:{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(),backgroundColor:"white"},fuzzy:{filter:"blur(10px)"},secret:{marginTop:e.spacing(1),marginBottom:e.spacing(1),width:"256px"},googleAuthenticatorText:{fontSize:e.typography.fontSize*.8},googleAuthenticatorBadges:{},qrcodeContainer:{position:"relative",display:"inline-block"},loader:{position:"absolute",top:"calc(128px - 64px)",left:"calc(128px - 64px)",color:"rgba(255, 255, 255, 0.5)"},failureIcon:{position:"absolute",top:"calc(128px - 64px)",left:"calc(128px - 64px)",color:$n[400],fontSize:"128px"},success:{marginBottom:e.spacing(2),flex:"0 0 100%"}})),Oa=function(e){const{t}=J("settings"),[o,r]=u.useState(!1),[d,h]=u.useState(!1),[f,g]=u.useState(!1),[s,a]=u.useState(!1),[i,c]=u.useState(!1),l=()=>{r(!1),h(!1),g(!1),a(!1),c(!1)},m=()=>{g(!1),h(!0)},p=()=>{c(!1),a(!0)},v=u.useCallback(S=>{if(!S){console.warn("Identity Verification dialog close callback was not ok which should probably mean it was cancelled by the user."),l();return}f?m():i&&p()},[i,f]),x=()=>{e.config&&(c(!0),r(!0))};return n.jsxs(u.Fragment,{children:[n.jsx(Tt,{opening:o,handleClosed:v,handleOpened:()=>r(!1)}),n.jsx(Ia,{open:d,setClosed:()=>{l(),e.handleRefreshState()}}),n.jsx(ha,{open:s,handleClose:()=>{l(),e.handleRefreshState()}}),n.jsx(st,{variant:"outlined",children:n.jsxs(y,{container:!0,spacing:2,padding:2,children:[n.jsx(y,{xs:12,lg:8,children:n.jsx(z,{variant:"h5",children:t("One-Time Password")})}),e.config===void 0||e.config===null?n.jsxs(u.Fragment,{children:[n.jsx(y,{xs:2,children:n.jsx(Be,{title:t("Click to add a Time-based One-Time Password to your account"),children:n.jsx(B,{variant:"outlined",color:"primary",onClick:()=>{g(!0),r(!0)},children:t("Add")})})}),n.jsx(y,{xs:12,children:n.jsx(z,{variant:"subtitle2",children:t("The One-Time Password has not been registered. If you'd like to register it click add.")})})]}):n.jsx(y,{xs:12,children:n.jsx(bt,{spacing:3,children:n.jsx(ua,{config:e.config,handleRefresh:e.handleRefreshState,handleDelete:x})})})]})})]})},Na=function(e){const{t}=J(),{createErrorNotification:o}=ye(),[r,d]=u.useState(void 0),[h,f]=u.useState([]),g=e.info!==void 0&&(e.info.has_totp||e.info.has_webauthn||e.info.has_duo);u.useEffect(()=>{e.info!==void 0&&d(Et(e.info.method))},[e.info]),u.useEffect(()=>{if(!e.info||!e.config||!g)return;let a=[];Array.from(e.config.available_methods).forEach(c=>{var m,p,v;const l=Et(c);if(!a.includes(l))switch(c){case lt.WebAuthn:(m=e.info)!=null&&m.has_webauthn&&a.push(l);break;case lt.TOTP:(p=e.info)!=null&&p.has_totp&&a.push(l);break;case lt.MobilePush:(v=e.info)!=null&&v.has_duo&&a.push(l);break}}),f(a)},[e.config,g,e.info]);const s=a=>{if(console.log(a.target.value),In(a.target.value)){const i=An(a.target.value);On(i).catch(c=>{console.error(c),o("There was an issue updating preferred second factor method")}).then(()=>{d(a.target.value)}).finally(()=>{e.refresh()})}};return u.useEffect(()=>{console.table(e.info),console.table(e.config)},[e.config,e.info]),n.jsx(u.Fragment,{children:!e.config||!g?void 0:n.jsx(st,{variant:"outlined",children:n.jsxs(y,{container:!0,spacing:2,padding:2,children:[n.jsx(y,{xs:12,children:n.jsx(z,{variant:"h5",children:t("Options")})}),n.jsx(y,{xs:12,children:n.jsx(y,{container:!0,spacing:2,padding:2,children:r===void 0?null:n.jsx(y,{xs:4,children:n.jsxs(tn,{children:[n.jsx(qe,{id:"two-factor-method-label",children:t("Default Method")}),n.jsx(Ke,{value:r,onChange:s,row:!0,children:h.map((a,i)=>{switch(a){case"webauthn":return n.jsx(Ce,{control:n.jsx(Ee,{}),label:t("WebAuthn"),value:a},i);case"totp":return n.jsx(Ce,{control:n.jsx(Ee,{}),label:t("One-Time Password"),value:a},i);case"mobile_push":return n.jsx(Ce,{control:n.jsx(Ee,{}),label:t("Mobile Push"),value:a},i);default:return n.jsx(u.Fragment,{})}})})]})})})})]})})})},La=function(e){var g;const{t}=J("settings"),{createSuccessNotification:o,createErrorNotification:r}=ye(),d=()=>{e.handleClose()},h=async()=>{if(!e.credential)return;const s=await gs(e.credential.id);if(s.data.status==="KO"){s.data.elevation?r(t("You must be elevated to delete WebAuthn credentials")):s.data.authentication?r(t("You must have a higher authentication level to delete WebAuthn credentials")):r(t("There was a problem deleting the WebAuthn credential"));return}o(t("Successfully deleted the WebAuthn credential")),e.handleClose()},f=s=>{s?h().catch(console.error):d()};return n.jsx(gn,{open:e.open,handleClose:f,title:t("Remove WebAuthn Credential"),text:t("Are you sure you want to remove the WebAuthn credential from from your account",{description:(g=e.credential)==null?void 0:g.description})})},_a=function(e){const{t}=J("settings"),{createSuccessNotification:o,createErrorNotification:r}=ye(),[d,h]=u.useState(""),f=u.useRef(null),[g,s]=u.useState(!1),a=()=>{s(!1),h("")},i=()=>{d.length?(l(d).catch(console.error),e.handleClose()):s(!0),a()},c=()=>{e.handleClose(),a()},l=async m=>{if(!e.credential){r(t("An error occurred when attempting to update the WebAuthn credential"));return}const p=await ps(e.credential.id,m);if(!p){r(t("An error occurred when attempting to update the WebAuthn credential"));return}if(p.data.status==="KO"){p.data.elevation?r(t("You must be elevated to update WebAuthn credentials")):p.data.authentication?r(t("You must have a higher authentication level to update WebAuthn credentials")):r(t("There was a problem updating the WebAuthn credential"));return}o(t("Successfully updated the WebAuthn credential")),a()};return n.jsxs($e,{open:e.open,onClose:c,children:[n.jsx(Oe,{children:t("Edit WebAuthn Credential")}),n.jsxs(Pe,{children:[n.jsx(De,{children:t("Enter a new description for this WebAuthn credential")}),n.jsx(Me,{autoFocus:!0,inputRef:f,id:"name-textfield",label:t("Description"),variant:"standard",required:!0,value:d,error:g,fullWidth:!0,disabled:!1,inputProps:{maxLength:30},onChange:m=>{h(m.target.value.substring(0,30)),s(!1)},autoCapitalize:"none",autoComplete:"webauthn-name",onKeyDown:m=>{m.key==="Enter"&&(i(),m.preventDefault())}})]}),n.jsxs(Ie,{children:[n.jsx(B,{onClick:c,children:t("Cancel")}),n.jsx(B,{onClick:i,children:t("Update")})]})]})},vn=function(e){const{t}=J("settings");return n.jsxs($e,{open:e.open,onClose:e.handleClose,"aria-labelledby":"webauthn-credential-info-dialog-title",children:[n.jsx(Oe,{id:"webauthn-credential-info-dialog-title",children:t("WebAuthn Credential Information")}),n.jsx(Pe,{children:e.credential?n.jsxs(u.Fragment,{children:[n.jsx(De,{sx:{mb:3},children:t("Extended WebAuthn credential information for security key",{description:e.credential.description})}),n.jsxs(y,{container:!0,spacing:2,children:[n.jsx(y,{md:3,sx:{display:{xs:"none",md:"block"}},children:n.jsx(u.Fragment,{})}),n.jsx(y,{xs:12,children:n.jsx(en,{})}),n.jsx(ne,{name:t("Description"),value:e.credential.description}),n.jsx(ne,{name:t("Relying Party ID"),value:e.credential.rpid}),n.jsx(ne,{name:t("Authenticator GUID"),value:e.credential.aaguid===void 0?t("Unknown"):e.credential.aaguid}),n.jsx(ne,{name:t("Attestation Type"),value:e.credential.attestation_type}),n.jsx(ne,{name:t("Attachment"),value:e.credential.attachment===""?t("Unknown"):e.credential.attachment}),n.jsx(ne,{name:t("Discoverable"),value:e.credential.discoverable?t("Yes"):t("No")}),n.jsx(ne,{name:t("User Verified"),value:e.credential.verified?t("Yes"):t("No")}),n.jsx(ne,{name:t("Backup State"),value:e.credential.backup_eligible?e.credential.backup_state?t("Backed Up"):t("Eligible"):t("Not Eligible")}),n.jsx(ne,{name:t("Transports"),value:e.credential.transports===null||e.credential.transports.length===0?t("Unknown"):e.credential.transports.map(o=>ms(o)).join(", ")}),n.jsx(ne,{name:t("Clone Warning"),value:e.credential.clone_warning?t("Yes"):t("No")}),n.jsx(ne,{name:t("Usage Count"),value:`${e.credential.sign_count}`}),n.jsx(ne,{name:t("Added"),value:t("{{when, datetime}}",{when:new Date(e.credential.created_at),formatParams:{when:Je}})}),n.jsx(ne,{name:t("Last Used"),value:e.credential.last_used_at?t("{{when, datetime}}",{when:new Date(e.credential.last_used_at),formatParams:{when:Je}}):t("Never")})]})]}):n.jsx(De,{sx:{mb:3},children:t("The WebAuthn credential information is not loaded")})}),n.jsxs(Ie,{children:[e.credential?n.jsxs(u.Fragment,{children:[" ",n.jsx(tt,{variant:"contained",tooltip:`${t("Click to copy the")} ${t("KID")}`,value:e.credential.kid.toString(),fullWidth:!1,childrenCopied:t("Copied"),children:t("KID")}),n.jsx(tt,{variant:"contained",tooltip:`${t("Click to copy the")} ${t("Public Key")}`,value:e.credential.public_key.toString(),fullWidth:!1,childrenCopied:t("Copied"),children:t("Public Key")})]}):void 0,n.jsx(B,{onClick:e.handleClose,children:t("Close")})]})]})};function ne(e){return n.jsxs(y,{xs:e.xs!==void 0?e.xs:12,children:[n.jsx(z,{display:"inline",sx:{fontWeight:"bold"},children:`${e.name}: `}),n.jsx(z,{display:"inline",children:e.value})]})}const za=function(e){const t=qt(),[o,r]=xs(e.timeout),d=Fe(h=>({icon:{display:"inline-block"},progressBar:{marginTop:h.spacing()}}))();return u.useEffect(()=>{r()},[r]),n.jsx(Q,{className:d.icon,sx:{minHeight:101},children:n.jsx(ys,{icon:n.jsx(os,{size:64,animated:!0,strong:!0}),children:n.jsx(vs,{value:o,className:d.progressBar,height:t.spacing(2)})})})},Fa=["Description","Verification"],Ba=function(e){const{t}=J("settings"),o=Wa(),{createErrorNotification:r}=ye(),[d,h]=u.useState(je.WaitTouch),[f,g]=u.useState(0),[s,a]=u.useState(null),[i,c]=u.useState(null),[l,m]=u.useState(""),[p,v]=u.useState(!1),x=u.useRef(),S=()=>{h(je.WaitTouch),a(null),g(0),c(null),m(""),v(!1)},j=u.useCallback(()=>{S(),e.setClosed()},[e]),C=u.useCallback(async()=>{if(!(!e.open||s===null)){c(s.timeout?s.timeout:null),g(1);try{h(je.WaitTouch);const k=await Cs(s);if(c(null),k.result===dt.Success){if(k.response==null)throw new Error("Credential Creation Request succeeded but Registration Response is empty.");const $=await bs(k.response);switch($.status){case dt.Success:j();break;case dt.Failure:r($.message);break}return}r(Ss(k.result)),h(je.Failure)}catch(k){console.error(k),r("Failed to register your credential. The identity verification process might have timed out.")}}},[e.open,s,r,j]);u.useEffect(()=>{!e.open||d!==je.Failure||f!==0||j()},[e,d,f,j]),u.useEffect(()=>{(async function(){!e.open||f!==0||s===null||await C()})()},[e.open,f,s,C]);const R=u.useCallback(()=>{e.open&&async function(){if(l.length===0||l.length>64){v(!0),r(t("The Description must be more than 1 character and less than 64 characters."));return}const k=await ws(l);switch(k.status){case 200:if(k.options)a(k.options);else throw new Error("Credential Creation Options Request succeeded but Credential Creation Options is empty.");break;case 409:v(!0),r(t("A WebAuthn Credential with that Description already exists."));break;default:r(t("Error occurred obtaining the WebAuthn Credential creation options."))}await C()}()},[r,l,C,e.open,t]),E=u.useCallback(k=>{m(k),p&&v(!1)},[p]);function M(k){switch(k){case 0:return n.jsxs(Q,{children:[n.jsx(Q,{className:o.icon,children:n.jsx(hs,{})}),n.jsx(z,{className:o.instruction,children:t("Enter a description for this credential")}),n.jsx(y,{container:!0,spacing:1,children:n.jsx(y,{xs:12,children:n.jsx(Me,{inputRef:x,id:"name-textfield",label:t("Description"),variant:"outlined",required:!0,value:l,error:p,disabled:!1,onChange:$=>E($.target.value),autoCapitalize:"none",onKeyDown:$=>{$.key==="Enter"&&((async()=>R())(),$.preventDefault())}})})})]});case 1:return n.jsxs(u.Fragment,{children:[n.jsx(Q,{className:o.icon,children:i!==null?n.jsx(za,{timeout:i}):null}),n.jsx(z,{className:o.instruction,children:t("Touch the token on your security key")})]})}}const I=()=>{!e.open||f===1||j()};return n.jsxs($e,{open:e.open,onClose:I,maxWidth:"xs",fullWidth:!0,children:[n.jsx(Oe,{children:t("Register WebAuthn Credential")}),n.jsxs(Pe,{children:[n.jsx(De,{sx:{mb:3},children:t("This page allows registration of a new Security Key backed by modern WebAuthn Credential technology.")}),n.jsxs(y,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",textAlign:"center",children:[n.jsx(y,{xs:12,children:n.jsx(un,{activeStep:f,children:Fa.map((k,$)=>{const H={},b={};return n.jsx(ln,{...H,children:n.jsx(dn,{...b,children:t(k)})},k)})})}),n.jsx(y,{xs:12,children:M(f)})]})]}),n.jsxs(Ie,{children:[n.jsx(B,{color:f===1&&d!==je.Failure?"primary":"error",disabled:f===1&&d!==je.Failure,onClick:j,children:t("Cancel")}),f===0?n.jsx(B,{color:l.length!==0?"success":"primary",disabled:f!==0,onClick:async()=>{R()},children:t("Next")}):null]})]})},Wa=Fe(e=>({icon:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},instruction:{paddingBottom:e.spacing(4)}})),Ua=function(e){const{t}=J("settings"),[o,r]=u.useState(!1),d=()=>{e.handleInformation(e.index)},h=()=>{e.handleEdit(e.index)},f=()=>{e.handleDelete(e.index)};return n.jsxs(u.Fragment,{children:[n.jsx(vn,{credential:e.credential,open:o,handleClose:()=>{r(!1)}}),n.jsx(fn,{icon:n.jsx(Br,{fontSize:"large",color:"warning"}),description:e.credential.description,qualifier:` (${e.credential.attestation_type.toUpperCase()})`,created_at:new Date(e.credential.created_at),last_used_at:e.credential.last_used_at?new Date(e.credential.last_used_at):void 0,tooltipInformation:t("Display extended information for this WebAuthn credential"),tooltipEdit:t("Edit this WebAuthn credential"),tooltipDelete:t("Remove this WebAuthn credential"),handleInformation:d,handleEdit:h,handleDelete:f})]})},Ga=function(e){return n.jsx(y,{container:!0,spacing:3,children:e.credentials.map((t,o)=>n.jsx(y,{xs:12,md:6,xl:3,children:n.jsx(Ua,{index:o,credential:t,handleInformation:e.handleInformation,handleEdit:e.handleEdit,handleDelete:e.handleDelete})},o))})},Va=function(e){const{t}=J("settings"),[o,r]=u.useState(!1),[d,h]=u.useState(!1),[f,g]=u.useState(!1),[s,a]=u.useState(!1),[i,c]=u.useState(-1),[l,m]=u.useState(!1),[p,v]=u.useState(!1),[x,S]=u.useState(-1),[j,C]=u.useState(!1),[R,E]=u.useState(!1),[M,I]=u.useState(-1),k=()=>{r(!1),h(!1),g(!1),m(!1),v(!1),S(-1),C(!1),E(!1),I(-1)},$=()=>{g(!1),h(!0)},H=()=>{E(!1),C(!0)},b=()=>{v(!1),m(!0)},W=u.useCallback(U=>{if(!U){console.warn("Identity Verification dialog close callback was not ok which should probably mean it was cancelled by the user."),k();return}f?$():R?H():p&&b()},[R,p,f]),ue=U=>{e.credentials&&(e.credentials.length+1<U||(c(U),a(!0)))},O=U=>{e.credentials&&(e.credentials.length+1<U||(v(!0),S(U),r(!0)))},pe=U=>{e.credentials&&(e.credentials.length+1<U||(E(!0),I(U),r(!0)))};return n.jsxs(u.Fragment,{children:[n.jsx(Tt,{opening:o,handleClosed:W,handleOpened:()=>r(!1)}),n.jsx(Ba,{open:d,setClosed:()=>{k(),e.handleRefreshState()}}),n.jsx(vn,{credential:i===-1||!e.credentials?void 0:e.credentials[i],open:s,handleClose:()=>{a(!1)}}),n.jsx(_a,{credential:x===-1||!e.credentials?void 0:e.credentials[x],open:l,handleClose:()=>{k(),e.handleRefreshState()}}),n.jsx(La,{open:j,credential:M===-1||!e.credentials?void 0:e.credentials[M],handleClose:()=>{k(),e.handleRefreshState()}}),n.jsx(st,{variant:"outlined",children:n.jsxs(y,{container:!0,spacing:2,padding:2,children:[n.jsx(y,{xs:12,children:n.jsx(z,{variant:"h5",children:t("WebAuthn Credentials")})}),n.jsx(y,{xs:4,md:2,children:n.jsx(Be,{title:t("Click to add a WebAuthn credential to your account"),children:n.jsx(B,{variant:"outlined",color:"primary",onClick:()=>{g(!0),r(!0)},children:t("Add")})})}),n.jsx(y,{xs:12,children:e.credentials===void 0||e.credentials.length===0?n.jsx(z,{variant:"subtitle2",children:t("No WebAuthn Credentials have been registered. If you'd like to register one click add.")}):n.jsx(Ga,{credentials:e.credentials,handleRefreshState:e.handleRefreshState,handleInformation:ue,handleEdit:O,handleDelete:pe})})]})})]})},Ha=function(e){const{t}=J(),[o,r]=u.useState(0),[d,h]=u.useState(0),[f,g]=u.useState(0),{createErrorNotification:s}=ye(),[a,i,,c]=Nn(),[l,m,,p]=Ln(),[v,x,,S]=ds(),[j,C,,R]=da(),[E,M]=u.useState(!1),[I,k]=u.useState(!1),$=()=>{r(W=>W+1),h(W=>W+1)},H=()=>{r(W=>W+1),g(W=>W+1)};u.useEffect(()=>{i(),m()},[i,m,o]),u.useEffect(()=>{l!==void 0&&(l.has_webauthn!==I&&k(l.has_webauthn),l.has_totp!==E&&M(l.has_totp))},[E,I,l]),u.useEffect(()=>{x()},[x,E,f]),u.useEffect(()=>{C()},[C,I,d]),u.useEffect(()=>{c&&s(t("There was an issue retrieving the global configuration"))},[c,s,t]),u.useEffect(()=>{p&&s(t("There was an issue retrieving the user preferences"))},[p,s,t]),u.useEffect(()=>{S&&s(t("There was an issue retrieving One-Time Password configuration"))},[S,s,t]),u.useEffect(()=>{R&&s(t("There was an issue retrieving the WebAuthn credentials"))},[R,s,t]);const b=()=>{m()};return u.useEffect(()=>{console.table(l),console.table(a)},[a,l]),n.jsx(u.Fragment,{children:n.jsxs(y,{container:!0,spacing:2,children:[n.jsx(y,{xs:12,children:n.jsx(Oa,{config:v,handleRefreshState:H})}),n.jsx(y,{xs:12,children:n.jsx(Va,{credentials:j,handleRefreshState:$})}),a&&l?n.jsx(y,{xs:12,children:n.jsx(Na,{config:a,info:l,refresh:b})}):void 0]})})},ii=function(e){const t=Jt(),[o,r,,d]=_n();return u.useEffect(()=>{r()},[r]),u.useEffect(()=>{(d||o&&o.authentication_level<zn.OneFactor)&&t(xt)},[o,d,t]),n.jsx(Qr,{children:n.jsxs(Fn,{children:[n.jsx(ct,{path:xt,element:n.jsx(Kr,{})}),n.jsx(ct,{path:Kt,element:n.jsx(Ha,{})}),n.jsx(ct,{path:Zt,element:n.jsx(la,{})})]})})};export{ii as default};
