import{s as M,e as _}from"./components.TimerIcon.f2cea1d7.js";import{n as j,o as K,Q as k,s as x,w as s,q as p,S as U,r as f,p as z,_ as Y,Z as V,j as h,t as H,v as X,a4 as A,a5 as J,aa as d,bp as T,bq as B,br as W,bk as q,m as Q}from"./index.2cf54ca8.js";function Z(r){return j("MuiLinearProgress",r)}K("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const G=["className","color","value","valueBuffer","variant"];let b=r=>r,E,I,D,L,N,O;const w=4,R=k(E||(E=b`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),rr=k(I||(I=b`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),er=k(D||(D=b`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),ar=r=>{const{classes:e,variant:a,color:t}=r,m={root:["root",`color${s(t)}`,a],dashed:["dashed",`dashedColor${s(t)}`],bar1:["bar",`barColor${s(t)}`,(a==="indeterminate"||a==="query")&&"bar1Indeterminate",a==="determinate"&&"bar1Determinate",a==="buffer"&&"bar1Buffer"],bar2:["bar",a!=="buffer"&&`barColor${s(t)}`,a==="buffer"&&`color${s(t)}`,(a==="indeterminate"||a==="query")&&"bar2Indeterminate",a==="buffer"&&"bar2Buffer"]};return X(m,Z,e)},S=(r,e)=>e==="inherit"?"currentColor":r.vars?r.vars.palette.LinearProgress[`${e}Bg`]:r.palette.mode==="light"?A(r.palette[e].main,.62):J(r.palette[e].main,.5),tr=x("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:a}=r;return[e.root,e[`color${s(a.color)}`],e[a.variant]]}})(({ownerState:r,theme:e})=>p({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:S(e,r.color)},r.color==="inherit"&&r.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},r.variant==="buffer"&&{backgroundColor:"transparent"},r.variant==="query"&&{transform:"rotate(180deg)"})),nr=x("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(r,e)=>{const{ownerState:a}=r;return[e.dashed,e[`dashedColor${s(a.color)}`]]}})(({ownerState:r,theme:e})=>{const a=S(e,r.color);return p({position:"absolute",marginTop:0,height:"100%",width:"100%"},r.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${a} 0%, ${a} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},U(L||(L=b`
    animation: ${0} 3s infinite linear;
  `),er)),or=x("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(r,e)=>{const{ownerState:a}=r;return[e.bar,e[`barColor${s(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&e.bar1Indeterminate,a.variant==="determinate"&&e.bar1Determinate,a.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:r,theme:e})=>p({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:r.color==="inherit"?"currentColor":(e.vars||e).palette[r.color].main},r.variant==="determinate"&&{transition:`transform .${w}s linear`},r.variant==="buffer"&&{zIndex:1,transition:`transform .${w}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&U(N||(N=b`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),R)),ir=x("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(r,e)=>{const{ownerState:a}=r;return[e.bar,e[`barColor${s(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&e.bar2Indeterminate,a.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:r,theme:e})=>p({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},r.variant!=="buffer"&&{backgroundColor:r.color==="inherit"?"currentColor":(e.vars||e).palette[r.color].main},r.color==="inherit"&&{opacity:.3},r.variant==="buffer"&&{backgroundColor:S(e,r.color),transition:`transform .${w}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&U(O||(O=b`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),rr)),sr=f.forwardRef(function(e,a){const t=z({props:e,name:"MuiLinearProgress"}),{className:m,color:c="primary",value:g,valueBuffer:v,variant:u="indeterminate"}=t,P=Y(t,G),i=p({},t,{color:c,variant:u}),F=ar(i),$=V(),y={},C={bar1:{},bar2:{}};if((u==="determinate"||u==="buffer")&&g!==void 0){y["aria-valuenow"]=Math.round(g),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let l=g-100;$.direction==="rtl"&&(l=-l),C.bar1.transform=`translateX(${l}%)`}if(u==="buffer"&&v!==void 0){let l=(v||0)-100;$.direction==="rtl"&&(l=-l),C.bar2.transform=`translateX(${l}%)`}return h.jsxs(tr,p({className:H(F.root,m),ownerState:i,role:"progressbar"},y,{ref:a},P,{children:[u==="buffer"?h.jsx(nr,{className:F.dashed,ownerState:i}):null,h.jsx(or,{className:F.bar1,ownerState:i,style:C.bar1}),u==="determinate"?null:h.jsx(ir,{className:F.bar2,ownerState:i,style:C.bar2})]}))}),ur=sr,{Axios:gr,AxiosError:cr,CanceledError:hr,isCancel:vr,CancelToken:Fr,VERSION:yr,all:Cr,Cancel:xr,isAxiosError:wr,spread:kr,toFormData:Ur,AxiosHeaders:Sr,HttpStatusCode:Pr,formToJSON:$r,getAdapter:Er,mergeConfig:Ir}=d;var n=(r=>(r[r.Success=1]="Success",r[r.Failure=2]="Failure",r[r.FailureExcluded=3]="FailureExcluded",r[r.FailureUserConsent=4]="FailureUserConsent",r[r.FailureUserVerificationOrResidentKey=5]="FailureUserVerificationOrResidentKey",r[r.FailureSyntax=6]="FailureSyntax",r[r.FailureSupport=7]="FailureSupport",r[r.FailureUnknown=8]="FailureUnknown",r[r.FailureWebAuthnNotSupported=9]="FailureWebAuthnNotSupported",r[r.FailureToken=10]="FailureToken",r))(n||{}),o=(r=>(r[r.Success=1]="Success",r[r.Failure=2]="Failure",r[r.FailureUserConsent=3]="FailureUserConsent",r[r.FailureU2FFacetID=4]="FailureU2FFacetID",r[r.FailureSyntax=5]="FailureSyntax",r[r.FailureUnknown=6]="FailureUnknown",r[r.FailureUnknownSecurity=7]="FailureUnknownSecurity",r[r.FailureWebAuthnNotSupported=8]="FailureWebAuthnNotSupported",r[r.FailureChallenge=9]="FailureChallenge",r[r.FailureUnrecognized=10]="FailureUnrecognized",r))(o||{});function Dr(r){switch(r){case 1:return"";case 3:return"You cancelled the assertion request.";case 4:return"The server responded with an invalid Facet ID for the URL.";case 5:return"The assertion challenge was rejected as malformed or incompatible by your browser.";case 8:return"Your browser does not support the WebAuthn protocol.";case 10:return"This device is not registered.";case 7:return"An unknown security error occurred.";case 6:return"An unknown error occurred.";default:return"An unexpected error occurred."}}function Lr(r){switch(r){case 10:return"You must open the link from the same device and browser that initiated the registration process.";case 7:return"Your browser does not appear to support the configuration.";case 6:return"The attestation challenge was rejected as malformed or incompatible by your browser.";case 9:return"Your browser does not support the WebAuthn protocol.";case 4:return"You cancelled the attestation request.";case 5:return"Your device does not support user verification or resident keys but this was required.";case 3:return"You have registered this device already.";case 8:return"An unknown error occurred."}return""}function Nr(r){switch(r.toLowerCase()){case"internal":return"Internal";case"ble":return"Bluetooth";case"nfc":case"usb":return r.toUpperCase();default:return r}}var lr=(r=>(r[r.WaitTouch=1]="WaitTouch",r[r.InProgress=2]="InProgress",r[r.Failure=3]="Failure",r))(lr||{});function dr(r){switch(r.name){case"UnknownError":return n.FailureSyntax;case"NotSupportedError":return n.FailureSupport;case"InvalidStateError":return n.FailureExcluded;case"AbortError":case"NotAllowedError":return n.FailureUserConsent;case"ConstraintError":return n.FailureUserVerificationOrResidentKey;default:return console.error(`Unhandled DOMException occurred during WebAuthn attestation: ${r}`),n.FailureUnknown}}function fr(r,e){var a;switch(r.name){case"UnknownError":return o.FailureSyntax;case"InvalidStateError":return o.FailureUnrecognized;case"AbortError":case"NotAllowedError":return o.FailureUserConsent;case"SecurityError":return((a=e.extensions)==null?void 0:a.appid)!==void 0?o.FailureU2FFacetID:o.FailureUnknownSecurity;default:return console.error(`Unhandled DOMException occurred during WebAuthn assertion: ${r}`),o.FailureUnknown}}async function Or(r){const e=await d.put(B,{description:r},{validateStatus:function(a){return a<300||a===409}});return e.data.status!=="OK"||e.data.data==null?{status:e.status}:{options:e.data.data.publicKey,status:e.status}}async function Tr(){let r;return r=await d.get(T),r.data.status!=="OK"||r.data.data==null?{status:r.status}:{options:r.data.data.publicKey,status:r.status}}async function Br(r){const e={result:n.Failure};try{e.response=await _(r)}catch(a){const t=a;if(t!==void 0)return e.result=dr(t),console.error(t),e;console.error(`Unhandled exception occurred during WebAuthn attestation: ${a}`)}return e.response!=null&&(e.result=n.Success),e}async function Wr(r){const e={result:o.Success};try{e.response=await M(r)}catch(a){const t=a;if(t!==void 0)return e.result=fr(t,r),console.error(t),e;console.error(`Unhandled exception occurred during WebAuthn authentication: ${a}`)}return e.response==null?e.result=o.Failure:e.result=o.Success,e}async function pr(r){return d.post(B,r)}async function qr(r,e,a,t){return d.post(T,{response:r,targetURL:e,workflow:a,workflowID:t})}async function Mr(r){let e={status:n.Failure,message:"Device registration failed."};try{const a=await pr(r);if(a.data.status==="OK"&&(a.status===200||a.status===201))return{status:n.Success,message:""}}catch(a){a instanceof cr&&a.response!==void 0&&(e.message=a.response.data.message)}return e}async function _r(r){return d({method:"DELETE",url:`${W}/${r}`,validateStatus:q})}async function jr(r,e){return d({method:"PUT",url:`${W}/${r}`,data:{description:e},validateStatus:q})}const Kr=function(r){const e=Q(a=>({progressRoot:{height:r.height?r.height:a.spacing()},transition:{transition:"transform .2s linear"}}))();return h.jsx(ur,{variant:"determinate",classes:{root:e.progressRoot,bar1Determinate:e.transition},value:r.value,className:r.className})};function zr(r){const[a,t]=f.useState(void 0),[m,c]=f.useState(0),g=f.useCallback(()=>{c(0),t(new Date)},[t,c]),v=f.useCallback(()=>{c(0),t(void 0)},[]);return f.useEffect(()=>{if(!a)return;const u=setInterval(()=>{let i=(a?new Date().getTime()-a.getTime():0)/r*100;i>=100&&(i=100,t(void 0)),c(i)},100);return()=>clearInterval(u)},[a,c,t,r]),[m,g,v]}export{n as A,Kr as L,lr as W,zr as a,Lr as b,Tr as c,_r as d,Wr as e,Mr as f,Or as g,o as h,Dr as i,qr as p,Br as s,Nr as t,jr as u};
